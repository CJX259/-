{"version":3,"sources":["services/loginSer.js","components/loginForm/index.js","routes/login/index.js","services/stdSer.js","services/teacherSer.js","components/addUser/index.js","components/userForm/index.js","components/controlUser/index.js","components/studentForm/index.js","services/courseSer.js","utils/index.js","components/courseTable/index.js","components/courseForm/index.js","components/showCourse/index.js","components/addCourse/index.js","routes/adm/index.js","components/chooseCourse/index.js","routes/std/index.js","components/teaCourse/index.js","routes/tea/index.js","routes/index/index.js","App.js","serviceWorker.js","index.js"],"names":["login","Nob","password","a","axios","post","then","res","catch","err","console","log","get","resetPassword","newPassword","LoginForm","state","isLoading","onFinish","values","sendLogin","this","setState","message","success","props","history","push","error","tip","spinning","name","labelCol","span","wrapperCol","className","Item","rules","required","label","prefix","UserOutlined","placeholder","type","LockOutlined","htmlType","Component","withRouter","index","outStd","cid","sid","delStudent","getAllStudent","updateStudent","sObj","addStd","getTeacherById","tid","getTeacherCourse","getAllTeacher","delTeacher","updateTeacher","tObj","addTea","cPassword","result","localJob","window","localStorage","getItem","data","errors","useState","setRefresh","useEffect","setItem","location","removeItem","pathname","xs","sm","md","FieldNumberOutlined","style","textAlign","marginLeft","UserForm","k","newValues","user","controlJob","id","reqTea","reqStd","onSetVisible","Form","useForm","form","initialValues","disabled","float","marginRight","Column","Table","ColumnGroup","requestAllTeacher","setIsLoading","setUser","rows","requestAllStudent","record","setVisible","setCurrentUser","confirm","handleCancel","visible","currentUser","dataSource","pagination","title","dataIndex","key","render","onClick","clickUpdateUser","delUser","danger","bodyStyle","minHeight","onOk","onCancel","footer","StudentForm","userObj","nPassword","getAllCourses","getChooseCourse","chooseCourseFromStd","outCourse","showStudent","addCourse","courseObj","delCourse","updateCourse","cObj","deepClone","origin","newObj","Array","item","temple","courseTable","courses","time","job","timeArray","i","j","prev","newData","weekDay","place","length","columns","text","bordered","loading","Option","Select","value","timeAndWeek","children","formItemLayout","tailFormItemLayout","offset","building","AddCourse","course","filter","search","class","replace","capacity","score","msg","reqCourse","prefixSelector","noStyle","width","map","scrollToFirstError","options","addonBefore","min","max","ShowCourse","requestCourse","TeacherId","count","nowCount","teacherName","Promise","all","setCourses","mVisible","setMVisible","current","setCurrent","deleteCourse","color","Header","Layout","Content","Footer","Sider","SubMenu","Menu","Teacher","collapsed","selectedMenu","openKeys","selectedKeys","menuName","onCollapse","clickMenu","e","node","innerText","keyPath","onOpenChange","logout","document","cookie","pathArray","split","currentPath","indexOf","collapsible","padding","theme","mode","icon","BankOutlined","to","DesktopOutlined","ApartmentOutlined","margin","path","component","ControlUser","AddUser","Course","chooseCourses","controlChoose","isChoose","newChoose","newCourses","chooseCourse","Student","ChooseCourse","CourseTable","TeaCourse","mLoading","setMLoading","chooseStd","courseId","studentsInACourse","setStudentsInACourse","outStdInACourse","setOutStdInACourse","requestData","code","handleOk","std","stdAndCourse","detail","closable","onClose","outStudent","alert","getDetailById","App","exact","Login","Index","Boolean","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ecb5978b.chunk.js","sourcesContent":["import axios from \"axios\";\r\nexport async function login(Nob, password){\r\n    return await axios.post(\"/api/user/login\", {\r\n        Nob : Nob,\r\n        password : password\r\n    }).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n    })\r\n}\r\nexport async function getDetailById(){\r\n    return await axios.get(\"/api/user/loginByCookie\").then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n    })\r\n}\r\nexport async function resetPassword(newPassword){\r\n    return await axios.post(\"/api/user/resetPwd\",{\r\n        password : newPassword\r\n    }).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n    })\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Form, Input, Button, Spin, message } from \"antd\";\r\nimport { login } from \"../../services/loginSer\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport \"./index.css\";\r\nclass LoginForm extends Component {\r\n    state = {\r\n        isLoading: false\r\n    }\r\n    async sendLogin(Nob, password) {\r\n        this.setState({\r\n            isLoading: true\r\n        });\r\n        const resp = await login(Nob, password);\r\n        if (resp) {\r\n            await message.success(\"登录成功\", 1);\r\n            // this.cookie = document.cookie.split(\"=\")[1];\r\n            // window.localStorage.setItem(\"token\", this.cookie);\r\n            this.props.history.push(\"/index\");\r\n            // console.log(this.props);\r\n        } else {\r\n            message.error(\"账号密码错误\", 3);\r\n        }\r\n        this.setState({\r\n            isLoading: false\r\n        })\r\n    }\r\n    onFinish = values => {\r\n        this.sendLogin(values.Nob, values.password);\r\n    }\r\n    render() {\r\n        const FormConfig = {\r\n            labelCol: {\r\n                span: 5\r\n            },\r\n            wrapperCol: {\r\n                span: 16\r\n            }\r\n        }\r\n\r\n        return (\r\n            <Spin tip=\"登录中，请稍后...\" spinning={this.state.isLoading}>\r\n                <Form name=\"loginUser\" {...FormConfig} className=\"login_form\" onFinish={this.onFinish}>\r\n                    <Form.Item\r\n                        name=\"Nob\"\r\n                        rules={[{ required: true, message: 'Please input your number!' }]}\r\n                        label=\"账号\">\r\n                        <Input prefix={<UserOutlined />} placeholder=\"userNumber\" />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"password\"\r\n                        rules={[{ required: true, message: 'Please input your Password!' }]}\r\n                        label=\"密码\">\r\n                        <Input type=\"password\" prefix={<LockOutlined />} placeholder=\"password\" />\r\n                    </Form.Item>\r\n                    <Form.Item wrapperCol={24} className=\"login_btn\">\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            登录\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Spin>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(LoginForm);","import React from 'react'\r\nimport \"./index.css\";\r\nimport LoginForm from \"../../components/loginForm\";\r\nexport default function index(props) {\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"login_wrapper\">\r\n                <span>登录</span>\r\n                <LoginForm></LoginForm>\r\n            </div>\r\n        </div>\r\n    )\r\n};","import axios from \"axios\";\r\n\r\nexport async function outStd(cid,sid){\r\n    return await axios.get(`/api/course/outStudent?cid=${cid}&sid=${sid}`).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n    })\r\n}\r\nexport async function delStudent(sid){\r\n    return await axios.get(`/api/std/delStd?sid=${sid}`).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n    })\r\n}\r\nexport async function getAllStudent(){\r\n    return await axios.get(\"/api/std/getAllStudent\").then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n    })\r\n}\r\nexport async function updateStudent(sid, sObj){\r\n    return await axios.post(`/api/std/updateStd`, {\r\n        sid : sid,\r\n        ...sObj\r\n    }).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n    })\r\n}\r\nexport async function addStd(sObj){\r\n    return await axios.post(`/api/std/addStd`,{\r\n        ...sObj\r\n    }).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}","\r\nimport  axios from \"axios\";\r\n\r\n\r\nexport async function getTeacherById(tid){\r\n    return await axios.get(`/api/teacher/getTeacherById?tid=${tid}`).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nexport async function getTeacherCourse(){\r\n    return await axios.get(`/api/teacher/showCourse`).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n    })\r\n}\r\nexport async function getAllTeacher(){\r\n    return await axios.get(\"/api/teacher/getAllTeacher\").then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n    })\r\n}\r\nexport async function delTeacher(tid){\r\n    return await axios.get(`/api/teacher/delTeacher?tid=${tid}`).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n    })\r\n}\r\nexport async function updateTeacher(tid, tObj){\r\n    return await axios.post(`/api/teacher/updateTeacher`, {\r\n        tid : tid,\r\n        ...tObj\r\n    }).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n    })\r\n}\r\nexport async function addTea(tObj){\r\n    return await axios.post(`/api/teacher/addTeacher`,{\r\n        ...tObj\r\n    }).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { LockOutlined, UserOutlined,FieldNumberOutlined } from '@ant-design/icons';\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { addStd } from \"../../services/stdSer\";\r\nimport { addTea } from \"../../services/teacherSer\";\r\nimport { Form, Input, Button, message } from \"antd\"\r\nfunction AddUser(props) {\r\n    const formItemLayout = {\r\n        labelCol: {\r\n            xs: {\r\n                span: 8,\r\n            },\r\n            sm: {\r\n                span: 5,\r\n            },\r\n            md: {\r\n                span: 4\r\n            }\r\n        },\r\n        wrapperCol: {\r\n            xs: {\r\n                span: 16,\r\n            },\r\n            sm: {\r\n                span: 14,\r\n            },\r\n            md: {\r\n                span: 6\r\n            }\r\n        },\r\n    };\r\n    const onFinish = async (values) => {\r\n        if (values.password !== values.cPassword) {\r\n            message.error(\"前后密码不一致\", 3);\r\n            return null;\r\n        }\r\n        let result = null;\r\n        let localJob = window.localStorage.getItem(\"controlJob\");\r\n        if (localJob === \"teacher\") {\r\n            //添加教师\r\n            result = await addTea(values);\r\n        } else if (localJob === \"student\") {\r\n            //添加学生\r\n            result = await addStd(values);\r\n        } else {\r\n            message.error(\"识别信息出错\", 3);\r\n        }\r\n        if(result && !result.data.data.errors){\r\n            message.success(\"添加成功\",1);\r\n        }else{\r\n            message.error(result.data.data.errors[0].message,4);\r\n        }\r\n    }\r\n    const [refresh, setRefresh] = useState(false);\r\n    useEffect(() => {\r\n        setRefresh(true);\r\n        window.localStorage.setItem(\"controlJob\", props.location.state);\r\n        return () => {\r\n            // 离开的时候会触发  刷新不会触发,也就是说刷新后依然有，不会被删掉\r\n            window.localStorage.removeItem(\"controlJob\");\r\n            setRefresh(false);\r\n        }\r\n    }, [props.location.pathname])\r\n    return (\r\n        <Form name=\"addUser\" {...formItemLayout} className=\"addUser_form\" onFinish={onFinish}>\r\n            <Form.Item\r\n                name=\"Nob\"\r\n                label=\"学号\">\r\n                <Input type=\"text\"  \r\n                prefix={<FieldNumberOutlined />} \r\n                placeholder={`请输入序号`} />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"name\"\r\n                label=\"姓名\">\r\n                <Input type=\"text\"  prefix={<UserOutlined />} placeholder={\"请输入姓名\"} />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"password\"\r\n                label=\"密码\">\r\n                <Input type=\"password\" prefix={<LockOutlined />} placeholder=\"请输入密码\" />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"cPassword\"\r\n                label=\"确认密码\">\r\n                <Input type=\"password\" prefix={<LockOutlined />} placeholder=\"请确认密码\" />\r\n            </Form.Item>\r\n            <Form.Item className=\"addUser_form\" wrapperCol={{ span: 14 }} style={{ textAlign: \"center\" }} >\r\n                <Button type=\"primary\" htmlType=\"reset\">\r\n                    重置\r\n                </Button>\r\n                <Button style={{ marginLeft: 20 }} type=\"primary\" htmlType=\"submit\">\r\n                    提交\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    )\r\n}\r\nexport default withRouter(AddUser);","import React from 'react'\r\nimport \"./index.css\"\r\nimport { Form, Input, Button, message } from \"antd\";\r\nimport { updateTeacher } from \"../../services/teacherSer\";\r\nimport { updateStudent } from \"../../services/stdSer\";\r\n/**\r\n * props : user为点击的用户信息，controlJob为该用户是教师还是学生\r\n * onSetVisible关闭modal\r\n * reqStd  reqTea请求所有学生/教师\r\n */\r\nexport default function UserForm(props) {\r\n    const onFinish = async (values) => {\r\n        //不把id放在form里了\r\n        // values.id = props.user.id;\r\n        let newValues = {};\r\n        for (const k in values) {\r\n            // console.log(typeof values.k);\r\n            if (typeof values[k] != \"undefined\") {\r\n                newValues[k] = values[k];\r\n            }\r\n        }\r\n        // 使用newValues，去除了undefined的内容\r\n        let result = null;\r\n        if (props.user.controlJob === \"teacher\") {\r\n            // 修改老师\r\n            result = await updateTeacher(newValues.id, newValues);\r\n        } else if (props.user.controlJob === \"student\") {\r\n            //修改学生\r\n            result = await updateStudent(newValues.id, newValues);\r\n\r\n        } else {\r\n            message.error(\"更新操作出错\", 3);\r\n        }\r\n        if (result) {\r\n            message.success(\"更新成功\", 1);\r\n            // 重新发送请求\r\n            if(props.user.controlJob === \"teacher\"){\r\n                props.reqTea();\r\n            }else if(props.user.controlJob === \"student\"){\r\n                props.reqStd();\r\n            }\r\n            props.onSetVisible(false);\r\n        }\r\n    }\r\n    const FormConfig = {\r\n        labelCol: {\r\n            span: 6\r\n        },\r\n        wrapperCol: {\r\n            span: 16\r\n        }\r\n    }\r\n    const [form] = Form.useForm();\r\n\r\n    return (\r\n        <Form \r\n        form={form}\r\n        initialValues={{\r\n            id:props.user.id,\r\n            Nob : props.user.Nob,\r\n            name : props.user.name\r\n        }}\r\n        name=\"updateUser\" \r\n        {...FormConfig} \r\n        className=\"update_form\" \r\n        onFinish={onFinish}>\r\n            <Form.Item\r\n                name=\"id\"\r\n                label=\"Id\">\r\n                <Input type=\"number\" disabled={true}/>\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"Nob\"\r\n                label={props.user.controlJob === \"teacher\" ? \"工号\" : \"学号\"}>\r\n                <Input type=\"text\" disabled={true} />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"name\"\r\n                label=\"姓名\">\r\n                    {/* <input type=\"text\" name=\"name\" placeholder={props.user.name}></input> */}\r\n                <Input type=\"text\"/>\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"password\"\r\n                label=\"密码\">\r\n                <Input type=\"password\" placeholder=\"需要修改密码？\" />\r\n            </Form.Item>\r\n            <Form.Item wrapperCol={12} className=\"update_form\">\r\n                <Button type=\"primary\" style={{ float: \"right\", marginRight: 40 }} htmlType=\"submit\">\r\n                    提交\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { Spin, Table, message, Button, Modal } from \"antd\";\r\nimport { getAllTeacher, delTeacher } from \"../../services/teacherSer\";\r\nimport { delStudent, getAllStudent } from \"../../services/stdSer\";\r\nimport UserForm from \"../../components/userForm\";\r\nimport \"./index.css\";\r\nconst { Column, ColumnGroup } = Table;\r\nfunction ControlUser(props) {\r\n    async function requestAllTeacher() {\r\n        setIsLoading(true);\r\n        let result = await getAllTeacher();\r\n        setUser(result.data.data.rows);\r\n        setIsLoading(false);\r\n    }\r\n    async function requestAllStudent() {\r\n        setIsLoading(true);\r\n        let result = await getAllStudent();\r\n        setUser(result.data.data.rows);\r\n        setIsLoading(false);\r\n    }\r\n    async function clickUpdateUser(record) {\r\n        setVisible(true);\r\n        setCurrentUser(record);\r\n    }\r\n\r\n    async function delUser(record) {\r\n        let flag = window.confirm(\"确认删除该用户吗？\");\r\n        if (!flag) {\r\n            return null;\r\n        }\r\n        let result = null;\r\n        let localJob = window.localStorage.getItem(\"controlJob\");\r\n        if (localJob === \"teacher\") {\r\n            //del教师\r\n            result = await delTeacher(record.id);\r\n        } else if (localJob === \"student\") {\r\n            //del学生\r\n            result = await delStudent(record.id);\r\n        } else {\r\n            message.error(\"识别查找信息出错\", 3);\r\n        }\r\n        if (result) {\r\n            message.success(\"删除成功！\", 1);\r\n            // 刷新内容\r\n            localJob === \"teacher\" ? requestAllTeacher() : requestAllStudent();\r\n        }\r\n    }\r\n    async function handleOk() {\r\n        //记得重置  \r\n    }\r\n    function handleCancel() {\r\n        setVisible(false);\r\n        // 重置当前的user\r\n        console.log(\"取消\");\r\n        setCurrentUser({});\r\n    }\r\n    // 查找的用户们\r\n    const [user, setUser] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [currentUser, setCurrentUser] = useState({});\r\n    // 拿到所有的教师/学生\r\n    useEffect(() => {\r\n        window.localStorage.setItem(\"controlJob\", props.location.state);\r\n        let localJob = window.localStorage.getItem(\"controlJob\");\r\n        if (localJob === \"teacher\") {\r\n            //管理教师\r\n            requestAllTeacher();\r\n        } else if (localJob === \"student\") {\r\n            //管理学生\r\n            requestAllStudent();\r\n        } else {\r\n            message.error(\"识别查找信息出错\", 3);\r\n        }\r\n        return () => {\r\n            // 离开的时候会触发  刷新不会触发,也就是说刷新后依然有，不会被删掉\r\n            window.localStorage.removeItem(\"controlJob\");\r\n            setUser([]);\r\n        }\r\n    }, [props.location.pathname])\r\n    return (\r\n        <div>\r\n            <Spin spinning={isLoading}>\r\n                <Table className=\"course_table\" dataSource={user} pagination={false}>\r\n                    <Column title=\"Id\" dataIndex=\"id\" key=\"id\" />\r\n                    <Column title=\"性名\" dataIndex=\"name\" key=\"name\" />\r\n                    <Column\r\n                        title={window.localStorage.getItem(\"controlJob\") === \"teacher\" ? \"工号\" : \"学号\"}\r\n                        dataIndex=\"Nob\"\r\n                        key=\"Nob\" />\r\n                    <ColumnGroup title=\"操作\">\r\n                        <Column\r\n                            key=\"update\"\r\n                            render={(record) => {\r\n                                return (\r\n                                    <>\r\n                                        <Button\r\n                                            onClick={() => { clickUpdateUser(record) }}\r\n                                            type=\"primary\"\r\n                                        >修改\r\n                                        </Button>\r\n                                    </>\r\n                                )\r\n                            }}\r\n                        />\r\n                        <Column\r\n                            key=\"del\"\r\n                            render={(record) => {\r\n                                return (\r\n                                    <Button\r\n                                        onClick={() => { delUser(record) }}\r\n                                        type=\"primary\"\r\n                                        danger>删除\r\n                                    </Button>\r\n                                )\r\n                            }}\r\n                        />\r\n                    </ColumnGroup>\r\n                </Table>\r\n                <Modal\r\n                    bodyStyle={{ minHeight: 71.4 }}\r\n                    visible={visible}\r\n                    title=\"修改信息\"\r\n                    onOk={handleOk}\r\n                    onCancel={handleCancel}\r\n                    footer={[\r\n                        <Button key=\"back\" onClick={handleCancel}>关闭</Button>\r\n                    ]}\r\n                >\r\n                    {/* 每次通过visible来重新渲染userForm，否则该组件不刷新 */}\r\n                    {visible &&\r\n                        <UserForm\r\n                            onSetVisible={setVisible}\r\n                            reqStd={requestAllStudent}\r\n                            reqTea={requestAllTeacher}\r\n                            user={{ ...currentUser, controlJob: window.localStorage.getItem(\"controlJob\") }}></UserForm>\r\n                    }\r\n                    {/* {record.name} */}\r\n                </Modal>\r\n\r\n            </Spin>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(ControlUser);","import React, { Component } from 'react'\r\nimport \"./index.css\"\r\nimport { LockOutlined } from '@ant-design/icons';\r\nimport { Form, Input, Button, Spin, message } from \"antd\";\r\nimport { resetPassword } from \"../../services/loginSer\";\r\nexport default class StudentForm extends Component {\r\n    componentDidMount() {\r\n        this.setState({\r\n            userObj: this.props.location.state\r\n        })\r\n    }\r\n    state = {\r\n        userObj: {},\r\n        isLoading: false\r\n    }\r\n    onFinish = async (values) => {\r\n        if (values.cPassword !== values.nPassword) {\r\n            message.error(\"前后密码不一致\", 3);\r\n            return null;\r\n        }\r\n        await resetPassword(values.nPassword);\r\n        message.success(\"修改成功\", 2);\r\n    }\r\n    render() {\r\n        const FormConfig = {\r\n            labelCol: {\r\n                span: 2\r\n            },\r\n            wrapperCol: {\r\n                span: 5\r\n            }\r\n        }\r\n        return (\r\n            <Spin tip=\"修改中，请稍后...\" spinning={this.state.isLoading}>\r\n                <Form name=\"loginUser\" {...FormConfig} className=\"resetPwd_form\" onFinish={this.onFinish}>\r\n                    <Form.Item\r\n                        name=\"nPassword\"\r\n                        rules={[{ required: true, message: '请输入新密码!' }]}\r\n                        label=\"新密码\">\r\n                        <Input type=\"password\" prefix={<LockOutlined />} placeholder=\"请输入新密码\" />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"cPassword\"\r\n                        rules={[{ required: true, message: '请输出新密码!' }]}\r\n                        label=\"确认密码\">\r\n                        <Input type=\"password\" prefix={<LockOutlined />} placeholder=\"确认密码\" />\r\n                    </Form.Item>\r\n                    <Form.Item wrapperCol={24} className=\"resetPwd_btn\">\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            重置密码\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Spin>\r\n        )\r\n    }\r\n}\r\n","\r\nimport axios from \"axios\";\r\n\r\nexport async function getAllCourses() {\r\n    return await axios.get(\"/api/course/getAllCourses\").then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n    })\r\n}\r\n// 返回学生已选课程\r\nexport async function getChooseCourse() {\r\n    return await axios.get(\"/api/std/showCourse\").then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n    })\r\n}\r\n// std端 选课\r\nexport async function chooseCourseFromStd(cid) {\r\n    return await axios.get(`/api/std/chooseCourse?cid=${cid}`).then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n    })\r\n}\r\n// std端 退课\r\nexport async function outCourse(cid) {\r\n    return await axios.get(`/api/course/outStudent?cid=${cid}`).then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n    })\r\n}\r\n//   拿到已经选择该课程的学生\r\nexport async function showStudent(cid) {\r\n    return await axios.get(`/api/course/showStudent?cid=${cid}`).then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n    })\r\n}\r\n// tea \r\nexport async function addCourse(courseObj, tid) {\r\n    return await axios.post(`/api/course/addCourse${tid ? `?tid=${tid}` : \"\"}`,\r\n        courseObj\r\n    ).then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n    })\r\n}\r\nexport async function delCourse(cid) {\r\n    return await axios.get(`/api/course/delCourse?cid=${cid}`).then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\nexport async function updateCourse(cid, cObj) {\r\n    return await axios.post(`/api/course/updateCourse`,{\r\n        cid : cid,\r\n        ...cObj\r\n    }).then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n    })\r\n}","\r\nexport const deepClone = (origin) => {\r\n    var newObj = origin instanceof Array ? [] : {};\r\n    for (var item in origin) {\r\n        var temple = typeof origin[item] == 'object' ? deepClone(origin[item]) : origin[item];\r\n        newObj[item] = temple;\r\n    }\r\n    return newObj;\r\n}","import React, { Component } from 'react'\r\nimport \"./index.css\";\r\nimport { Table, Tag, Space } from 'antd';\r\nimport { getChooseCourse } from \"../../services/courseSer\";\r\nimport {getTeacherCourse} from \"../../services/teacherSer\";\r\nimport { deepClone } from '../../utils';\r\nexport default class courseTable extends Component {\r\n  state = {\r\n    isLoading: false,\r\n    courses: [],\r\n    data: [{\r\n      key: '1',\r\n      time: '08:30~10:05'\r\n    },\r\n    {\r\n      key: '2',\r\n      time: '10:25~12:00'\r\n    },\r\n    {\r\n      key: '3',\r\n      time: '13:50~15:25'\r\n    },\r\n    {\r\n      key: '4',\r\n      time: '15:45:17:20'\r\n    }]\r\n  }\r\n  async componentDidMount() {\r\n    this.setState({\r\n      isLoading: true\r\n    })\r\n    console.log(this.props.location.state);\r\n    let result = null;\r\n    let courses = [];\r\n    if (this.props.location.state.job == \"teacher\") {\r\n      //teacher端的请求课表\r\n      result = await getTeacherCourse();\r\n      courses = result ? result.data.data.rows : [];\r\n      console.log(courses);\r\n    } else if (this.props.location.state.job == \"student\") {\r\n      result = await getChooseCourse();\r\n      courses = result ? result.data.data : [];\r\n    }\r\n    this.setState({\r\n      courses: courses\r\n    });\r\n    const timeArray = [\"08:30:00\", \"10:25:00\", \"13:50:00\", \"15:45:00\"];\r\n    for (let i = 0; i < courses.length; i++) {\r\n      for (let j = 0; j < timeArray.length; j++) {\r\n        if (courses[i].time == timeArray[j]) {\r\n          // 可以放进第j+1个data数据中\r\n          // 还需要判断加入到week1还是week5\r\n          this.setState(prev => {\r\n            let newData = deepClone(prev.data);\r\n            newData[j][`week${courses[i].weekDay}`] = `${courses[i].name} (${courses[i].place})`;\r\n          // newData[j][`week${courses[i].weekDay}`] = <div><span>{courses[i].name}</span><Tag>courses[i].place</Tag></div>\r\n            return {\r\n              data: newData,\r\n              isLoading: false\r\n            }\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const columns = [\r\n      {\r\n        title: '时间\\\\星期',\r\n        dataIndex: \"time\",\r\n        render: text => <span>{text}</span>,\r\n      },\r\n      {\r\n        title: '星期一',\r\n        dataIndex: 'week1',\r\n      },\r\n      {\r\n        title: '星期二',\r\n        dataIndex: 'week2',\r\n      },\r\n      {\r\n        title: '星期三',\r\n        dataIndex: 'week3',\r\n      },\r\n      {\r\n        title: '星期四',\r\n        dataIndex: 'week4',\r\n      },\r\n      {\r\n        title: '星期五',\r\n        dataIndex: 'week5',\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <Table\r\n        columns={columns}\r\n        dataSource={this.state.data}\r\n        bordered\r\n        title={() => '课表'}\r\n        loading={this.state.isLoading}\r\n        pagination={false}\r\n      />\r\n    )\r\n  }\r\n}","import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Cascader,\r\n    Select,\r\n    Button,\r\n    InputNumber,\r\n    message\r\n} from 'antd';\r\nimport {  updateCourse } from \"../../services/courseSer\";\r\nconst { Option } = Select;\r\nconst time = [\r\n    {\r\n        value: '08:30:00',\r\n        label: '08:30'\r\n    },\r\n    {\r\n        value: '10:25:00',\r\n        label: '10:25'\r\n    },\r\n    {\r\n        value: '13:50:00',\r\n        label: '13:50'\r\n    },\r\n    {\r\n        value: '15:45:00',\r\n        label: '15:45'\r\n    }\r\n]\r\nconst timeAndWeek = [\r\n    {\r\n        value: '1',\r\n        label: '周一',\r\n        children: time\r\n    },\r\n    {\r\n        value: '2',\r\n        label: '周二',\r\n        children: time\r\n    },\r\n    {\r\n        value: '3',\r\n        label: '周三',\r\n        children: time\r\n    },\r\n    {\r\n        value: '4',\r\n        label: '周四',\r\n        children: time\r\n    },\r\n    {\r\n        value: '5',\r\n        label: '周五',\r\n        children: time\r\n    },\r\n\r\n];\r\nconst formItemLayout = {\r\n    labelCol: {\r\n        xs: {\r\n            span: 8,\r\n        },\r\n        sm: {\r\n            span: 5,\r\n        },\r\n        md: {\r\n            span: 4\r\n        }\r\n    },\r\n    wrapperCol: {\r\n        xs: {\r\n            span: 16,\r\n        },\r\n        sm: {\r\n            span: 14,\r\n        },\r\n        md: {\r\n            span: 6\r\n        }\r\n    },\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {\r\n        xs: {\r\n            span: 24,\r\n            offset: 0,\r\n        },\r\n        sm: {\r\n            span: 16,\r\n            offset: 2,\r\n        },\r\n        md: {\r\n            span: 10,\r\n            offset: 4\r\n        }\r\n    },\r\n};\r\n\r\nconst building = [\r\n    \"文新楼\", \"文清楼\", \"理学楼南楼\", \"理学楼北楼\", \"计算机实验楼\"\r\n]\r\n/**\r\n * \r\n * @param {*} props \r\n * course当前的课程\r\n * onSetVisible关闭modal\r\n * reqCourse请求新的课程\r\n */\r\nconst AddCourse = (props) => {\r\n    // console.log(props);\r\n    // 解析props\r\n    props.course.building = building.filter(item => {\r\n        var a = props.course.place.search(item);\r\n        return a != -1\r\n    })[0];\r\n    props.course.class = props.course.place.replace(props.course.building, \"\");\r\n    const [form] = Form.useForm();\r\n\r\n    const onFinish = async values => {\r\n        // 去掉undefined\r\n        if (typeof values.capacity != \"number\" || typeof values.score != \"number\") {\r\n            message.error(\"课容量或学分必须为数字！\", 1);\r\n            return;\r\n        }\r\n        values.place = values.building + values.class;\r\n        values.time = values.timeAndWeek[1];\r\n        values.weekDay = values.timeAndWeek[0];\r\n        values.id = props.course.id;\r\n        let result = null;\r\n        result = await updateCourse(values.id, values);\r\n        if (result && result.data.msg === \"success\") {\r\n            message.success(\"添加成功\", 3);\r\n        } else {\r\n            message.error(\"添加失败\", 3);\r\n        }\r\n        props.reqCourse();\r\n        props.onSetVisible(false);\r\n    };\r\n\r\n    const prefixSelector = (\r\n        <Form.Item name=\"building\" noStyle>\r\n            <Select\r\n                style={{\r\n                    width: 110,\r\n                }}\r\n            >\r\n                {building.map(item => {\r\n                    return (\r\n                        <Option value={item}>{item}</Option>\r\n                    )\r\n                })}\r\n            </Select>\r\n        </Form.Item>\r\n    );\r\n    return (\r\n        <Form\r\n            {...formItemLayout}\r\n            form={form}\r\n            name=\"course\"\r\n            onFinish={onFinish}\r\n            initialValues={{\r\n                building: props.course.building,\r\n                capacity: props.course.capacity,\r\n                score: props.course.score,\r\n                class : props.course.class,\r\n                name : props.course.name,\r\n                timeAndWeek : [props.course.weekDay+\"\", props.course.time]\r\n            }}\r\n            scrollToFirstError\r\n        >\r\n            <Form.Item\r\n                name=\"name\"\r\n                label={\r\n                    <span>\r\n                        课程名称&nbsp;\r\n                    </span>\r\n                }\r\n            >\r\n                <Input placeholder={props.course.name} />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"timeAndWeek\"\r\n                label=\"上课时间\"\r\n            >\r\n                <Cascader  options={timeAndWeek} />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"class\"\r\n                label=\"上课地点\"\r\n                wrapperCol={{ span: 10 }}\r\n            >\r\n                <Input\r\n                    addonBefore={prefixSelector}\r\n                    style={{\r\n                        width: '100%',\r\n                    }}\r\n                    placeholder=\"输入教室\"\r\n                />\r\n            </Form.Item>\r\n\r\n\r\n            <Form.Item\r\n                name=\"capacity\"\r\n                label=\"课容量\"\r\n            >\r\n                <InputNumber\r\n                    min={1}\r\n                    max={250}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"score\"\r\n                label=\"学分\"\r\n            >\r\n                <InputNumber\r\n                    min={1}\r\n                    max={5}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item {...tailFormItemLayout}>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                    更新课程\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n};\r\nexport default AddCourse;","import React, { Component, useEffect, useState } from 'react'\r\nimport { getAllCourses, showStudent, delCourse } from \"../../services/courseSer\";\r\nimport { getTeacherById } from \"../../services/teacherSer\";\r\nimport { Table, Tag, Spin, Button, message, Space, Modal } from 'antd';\r\n// import \"./index.css\";\r\nimport { deepClone } from \"../../utils\"\r\nimport CourseForm from '../courseForm';\r\nconst { Column, ColumnGroup } = Table;\r\n// 还需要的api:\r\n// 拿到已经选择该课程的人数  \r\n// 拿到该课程的老师名字     √\r\n// 拿到本学生是否已经选了该课  √\r\n\r\n\r\nexport default function ShowCourse(props) {\r\n    const requestCourse = async () => {\r\n        setIsLoading(true);\r\n        const result = await getAllCourses();\r\n        let courses = result ? result.data.data : [];\r\n\r\n        courses = courses.map(async (item) => {\r\n            item.key = item.id;\r\n            const res = await getTeacherById(item.TeacherId);\r\n            const count = await showStudent(item.id);\r\n            item.nowCount = count ? count.data.data.length : 0;\r\n            item.teacherName = res ? res.data.data.name : \"\";\r\n            return item;\r\n        })\r\n        // });\r\n        Promise.all(courses).then(res => {\r\n            setCourses(res);\r\n            setIsLoading(false);\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        requestCourse();\r\n        return () => {\r\n            // cleanup\r\n            console.log(\"组件销毁\");\r\n        }\r\n    }, [])\r\n    const [courses, setCourses] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [mLoading, setMLoading] = useState(false);\r\n    const [mVisible, setMVisible] = useState(false);\r\n    const [current, setCurrent] = useState({});\r\n\r\n    const handleOk = (values) => {\r\n        console.log(values);\r\n        console.log(\"ok\")\r\n    }\r\n    const handleCancel = () => {\r\n        setMVisible(false);\r\n    }\r\n    const updateCourse = async (record) => {\r\n        setMVisible(true);\r\n        setCurrent(record);\r\n    }\r\n    const deleteCourse = async (record) => {\r\n        let flag = window.confirm(\"确定删除吗?\");\r\n        if (!flag) {\r\n            return null;\r\n        }\r\n        let result = await delCourse(record.id);\r\n        if (result && result.data) {\r\n            message.success('删除成功', 2);\r\n        }\r\n        else {\r\n            message.error('删除出错', 2);\r\n        }\r\n        requestCourse();\r\n    }\r\n    return (\r\n        <Spin spinning={isLoading}>\r\n            <Table className=\"course_table\" dataSource={courses} pagination={false}>\r\n                <Column title=\"课程\" dataIndex=\"name\" key=\"name\" />\r\n                <Column title=\"星期\" dataIndex=\"weekDay\" key=\"weekDay\" />\r\n                <Column title=\"时间\" dataIndex=\"time\" key=\"time\" />\r\n                <Column title=\"上课地点\" dataIndex=\"place\" key=\"address\" />\r\n                <Column title=\"学分\" dataIndex=\"score\" key=\"score\" />\r\n                <Column title=\"课容量\" key=\"capacity\"\r\n                    render={(record) => {\r\n                        return (\r\n                            <Space>{record.nowCount}/{record.capacity}\r\n                                {record.nowCount == record.capacity ? <Tag color=\"red\">已满</Tag> : \"\"}\r\n                            </Space>\r\n                        )\r\n                    }}\r\n                />\r\n                <Column title=\"任课老师\" dataIndex=\"teacherName\" key=\"teacherName\" />\r\n                <ColumnGroup\r\n                    title=\"操作\"\r\n                    key=\"action\"\r\n                >\r\n                    <Column\r\n                        render={(record) => {\r\n                            return (\r\n                                <Button type=\"primary\"\r\n                                    onClick={() => updateCourse(record)}\r\n                                >修改</Button>\r\n                            )\r\n                        }}\r\n                    >\r\n                    </Column>\r\n                    <Column\r\n                        render={(record) => {\r\n                            return (\r\n                                <Button danger type=\"primary\" onClick={() => deleteCourse(record)}\r\n                                >删除</Button>\r\n                            )\r\n                        }}\r\n                    >\r\n                    </Column>\r\n                </ColumnGroup>\r\n            </Table>\r\n            <Modal\r\n                bodyStyle={{ minHeight: 71.4 }}\r\n                visible={mVisible}\r\n                title=\"修改信息\"\r\n                onOk={handleOk}\r\n                onCancel={handleCancel}\r\n                footer={[\r\n                    <Button key=\"back\" onClick={handleCancel}>关闭</Button>\r\n                ]}\r\n            >\r\n                {mVisible &&\r\n                    <CourseForm\r\n                        course={current}\r\n                        onSetVisible={setMVisible}\r\n                        reqCourse={requestCourse}\r\n                    ></CourseForm>\r\n                }\r\n            </Modal>\r\n        </Spin>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Cascader,\r\n    Select,\r\n    Button,\r\n    InputNumber,\r\n    message\r\n} from 'antd';\r\nimport { addCourse } from \"../../services/courseSer\";\r\nconst { Option } = Select;\r\nconst time = [\r\n    {\r\n        value: '08:30:00',\r\n        label: '08:30'\r\n    },\r\n    {\r\n        value: '10:25:00',\r\n        label: '10:25'\r\n    },\r\n    {\r\n        value: '13:50:00',\r\n        label: '13:50'\r\n    },\r\n    {\r\n        value: '15:45:00',\r\n        label: '15:45'\r\n    }\r\n]\r\nconst timeAndWeek = [\r\n    {\r\n        value: '1',\r\n        label: '周一',\r\n        children: time\r\n    },\r\n    {\r\n        value: '2',\r\n        label: '周二',\r\n        children: time\r\n    },\r\n    {\r\n        value: '3',\r\n        label: '周三',\r\n        children: time\r\n    },\r\n    {\r\n        value: '4',\r\n        label: '周四',\r\n        children: time\r\n    },\r\n    {\r\n        value: '5',\r\n        label: '周五',\r\n        children: time\r\n    },\r\n\r\n];\r\nconst formItemLayout = {\r\n    labelCol: {\r\n        xs: {\r\n            span: 8,\r\n        },\r\n        sm: {\r\n            span: 5,\r\n        },\r\n        md: {\r\n            span: 4\r\n        }\r\n    },\r\n    wrapperCol: {\r\n        xs: {\r\n            span: 16,\r\n        },\r\n        sm: {\r\n            span: 14,\r\n        },\r\n        md: {\r\n            span: 6\r\n        }\r\n    },\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {\r\n        xs: {\r\n            span: 24,\r\n            offset: 0,\r\n        },\r\n        sm: {\r\n            span: 16,\r\n            offset: 2,\r\n        },\r\n        md: {\r\n            span: 10,\r\n            offset: 5\r\n        }\r\n    },\r\n};\r\n\r\nconst building = [\r\n    \"文新\", \"文清\", \"理学楼南楼\", \"理学楼北楼\", \"计算机实验楼\"\r\n]\r\nconst AddCourse = () => {\r\n    const [form] = Form.useForm();\r\n\r\n    const onFinish =async values => {\r\n        values.capacity = +values.capacity;\r\n        values.score = +values.score;\r\n        if (typeof values.capacity != \"number\" || typeof values.score != \"number\") {\r\n            message.error(\"课容量或学分必须为数字！\", 1);\r\n            return;\r\n        }\r\n        values.place = values.building + values.class;\r\n        values.time = values.timeAndWeek[1];\r\n        values.weekDay = values.timeAndWeek[0];\r\n        let result = null;\r\n        result = await addCourse(values);\r\n        if(result && result.data.msg === \"success\"){\r\n            message.success(\"添加成功\",3);\r\n        }else{\r\n            message.error(\"添加失败\",3);\r\n        }\r\n    };\r\n\r\n    const prefixSelector = (\r\n        <Form.Item name=\"building\" noStyle>\r\n            <Select\r\n                style={{\r\n                    width: 110,\r\n                }}\r\n            >\r\n                {building.map(item => {\r\n                    return (\r\n                        <Option value={item}>{item}</Option>\r\n                    )\r\n                })}\r\n            </Select>\r\n        </Form.Item>\r\n    );\r\n    return (\r\n        <Form\r\n            {...formItemLayout}\r\n            form={form}\r\n            name=\"course\"\r\n            onFinish={onFinish}\r\n            initialValues={{\r\n                building: '文新',\r\n                capacity: 60,\r\n                score: 2\r\n            }}\r\n            scrollToFirstError\r\n        >\r\n            <Form.Item\r\n                name=\"name\"\r\n                label={\r\n                    <span>\r\n                        课程名称&nbsp;\r\n                    </span>\r\n                }\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '请输入课程名称'\r\n                    },\r\n                ]}\r\n            >\r\n                <Input />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"timeAndWeek\"\r\n                label=\"上课时间\"\r\n                rules={[\r\n                    {\r\n                        type: 'array',\r\n                        required: true,\r\n                        message: '必须选择上课时间',\r\n                    },\r\n                ]}\r\n            >\r\n                <Cascader placeholder=\"请选择上课时间\" options={timeAndWeek} />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"class\"\r\n                label=\"上课地点\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '必须填写上课地点!',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input\r\n                    addonBefore={prefixSelector}\r\n                    style={{\r\n                        width: '100%',\r\n                    }}\r\n                    placeholder=\"输入教室\"\r\n                />\r\n            </Form.Item>\r\n\r\n\r\n            <Form.Item\r\n                name=\"capacity\"\r\n                label=\"课容量\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '必须填写课容量!',\r\n                    },\r\n                ]}\r\n            >\r\n                <InputNumber\r\n                    min={1}\r\n                    max={250}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"score\"\r\n                label=\"学分\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '必须填写学分!',\r\n                    },\r\n                ]}\r\n            >\r\n                <InputNumber\r\n                    min={1}\r\n                    max={5}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item {...tailFormItemLayout}>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                    添加课程\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n};\r\nexport default AddCourse;","import React, { Component } from 'react'\r\n// import Layout from \"../layout\";\r\nimport { Link, Route, withRouter, Switch } from \"react-router-dom\";\r\nimport { Layout, Menu, Breadcrumb, Button } from 'antd';\r\nimport {\r\n    DesktopOutlined,\r\n    BankOutlined,\r\n    UserOutlined,\r\n    ApartmentOutlined\r\n} from '@ant-design/icons';\r\nimport \"./index.css\"\r\nimport AddUser from \"../../components/addUser\";\r\nimport ControlUser from \"../../components/controlUser\";\r\nimport StudentForm from \"../../components/studentForm\";\r\nimport CourseTable from '../../components/courseTable';\r\nimport ShowCourse from '../../components/showCourse';\r\nimport AddCourse from \"../../components/addCourse\";\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nclass Teacher extends Component {\r\n    state = {\r\n        collapsed: false,\r\n        selectedMenu: \"主页\",\r\n        openKeys: [\"sub1\", \"sub2\"],\r\n        selectedKeys: [\"1\"],\r\n        pathname: [\"index\", \"update\", \"controlTeacher\", \"addTeacher\", \"controlStudent\", \"addStudent\", \"showCourse\", \"addCourse\"],\r\n        menuName: [\"主页\", \"修改密码\", \"管理教师\", \"添加教师\", \"管理学生\", \"添加学生\", \"查看课程\", \"添加课程\"]\r\n    };\r\n    onCollapse = collapsed => {\r\n        this.setState({ collapsed });\r\n    };\r\n    clickMenu = (e) => {\r\n        this.setState({\r\n            selectedMenu: e.item.node.innerText,\r\n            selectedKeys: e.keyPath\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        this.pathArray = this.props.location.pathname.split(\"/\");\r\n        this.currentPath = this.pathArray.length === 2 ? this.pathArray[1] : this.pathArray[2];\r\n        this.setState({\r\n            selectedKeys: [this.state.pathname.indexOf(this.currentPath) + 1 + \"\"],\r\n            selectedMenu: this.state.menuName[this.state.pathname.indexOf(this.currentPath)]\r\n        })\r\n    }\r\n\r\n    onOpenChange = (e) => {\r\n        this.setState({\r\n            openKeys: e\r\n        })\r\n    }\r\n\r\n    logout = (e) => {\r\n        // 删掉cookie\r\n        let flag = window.confirm(\"确定退出登录吗?\");\r\n        if (flag) {\r\n            document.cookie = \"token=; expires=0\";\r\n            this.props.history.push(\"/\");\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <Layout style={{ minHeight: '100vh' }}>\r\n                <Sider collapsible collapsed={this.state.collapsed} onCollapse={this.onCollapse}>\r\n                    <div className=\"logo\" ></div>\r\n                    <Header className=\"site-layout-background title_name\" style={{ padding: 0 }}>管理员</Header>\r\n                    <Menu\r\n                        selectedKeys={this.state.selectedKeys}\r\n                        openKeys={this.state.openKeys}\r\n                        onOpenChange={this.onOpenChange}\r\n                        theme=\"dark\"\r\n                        mode=\"inline\">\r\n                        <Menu.Item onClick={this.clickMenu} key=\"1\" icon={<BankOutlined />}>\r\n                            <Link to={{\r\n                                pathname: \"/index\",\r\n                                state: this.props.userObj\r\n                            }}>主页\r\n                            </Link>\r\n                        </Menu.Item>\r\n                        <Menu.Item onClick={this.clickMenu} key=\"2\" icon={<UserOutlined />}>\r\n                            <Link to={{\r\n                                pathname: \"/index/update\",\r\n                                state: this.props.userObj\r\n                            }}>\r\n                                修改密码\r\n                            </Link>\r\n                        </Menu.Item>\r\n\r\n                        <SubMenu key=\"sub1\" icon={<DesktopOutlined />} title=\"用户管理\">\r\n                            <Menu.Item onClick={this.clickMenu} key=\"3\"><Link to={{\r\n                                pathname: \"/index/controlTeacher\",\r\n                                state: \"teacher\"\r\n                            }}>管理教师</Link></Menu.Item>\r\n                            <Menu.Item onClick={this.clickMenu} key=\"4\"><Link to={{\r\n                                pathname: \"/index/addTeacher\",\r\n                                state: \"teacher\"\r\n                            }}>添加教师</Link></Menu.Item>\r\n                            <Menu.Item onClick={this.clickMenu} key=\"5\"><Link to={{\r\n                                pathname: \"/index/controlStudent\",\r\n                                state: \"student\"\r\n                            }}>管理学生</Link></Menu.Item>\r\n                            <Menu.Item onClick={this.clickMenu} key=\"6\"><Link to={{\r\n                                pathname: \"/index/addStudent\",\r\n                                state: \"student\"\r\n                            }}>添加学生</Link></Menu.Item>\r\n                        </SubMenu>\r\n                        <SubMenu key=\"sub2\" icon={<ApartmentOutlined />} title=\"管理课程\">\r\n                            <Menu.Item onClick={this.clickMenu} key=\"7\"><Link to={{\r\n                                pathname: \"/index/showCourse\",\r\n                                state: this.props.userObj\r\n                            }}>查看课程</Link></Menu.Item>\r\n                        </SubMenu>\r\n                    </Menu>\r\n                </Sider>\r\n                <Layout className=\"site-layout\">\r\n                    <Header className=\"site-layout-background\" style={{ padding: 0 }} >\r\n                        <Button onClick={this.logout} className=\"logout_btn\">退出登录</Button>\r\n                    </Header>\r\n                    <Content style={{ margin: '0 16px' }}>\r\n                        <Breadcrumb style={{ margin: '16px 0' }}>\r\n                            {/* 根据路由信息来修改 */}\r\n                            <Breadcrumb.Item>管理员</Breadcrumb.Item>\r\n                            <Breadcrumb.Item>{this.state.selectedMenu}</Breadcrumb.Item>\r\n                        </Breadcrumb>\r\n                        <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 600 }}>\r\n                            <Switch>\r\n                                <Route path=\"/index/update\" component={StudentForm}></Route>\r\n                                <Route path=\"/index/controlTeacher\" component={ControlUser}></Route>\r\n                                <Route path=\"/index/controlStudent\" component={ControlUser}></Route>\r\n                                <Route path=\"/index/addTeacher\" component={AddUser}></Route>\r\n                                <Route path=\"/index/addStudent\" component={AddUser}></Route>\r\n                                <Route path=\"/index/showCourse\" component={ShowCourse}></Route>\r\n                                <div>\r\n                                    欢迎来到广州大学选课系统\r\n                                </div>\r\n                            </Switch>\r\n\r\n                        </div>\r\n                    </Content>\r\n                    <Footer style={{ textAlign: 'center' }}>Ant Design ©2018 Created by Ant UED</Footer>\r\n                </Layout>\r\n\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Teacher);","import React, { Component } from 'react'\r\nimport { getAllCourses, getChooseCourse, chooseCourseFromStd, outCourse, showStudent } from \"../../services/courseSer\";\r\nimport { getTeacherById } from \"../../services/teacherSer\";\r\nimport { Table, Tag, Spin, Button, message, Space } from 'antd';\r\nimport \"./index.css\";\r\nimport { deepClone } from \"../../utils\"\r\nconst { Column, ColumnGroup } = Table;\r\n// 还需要的api:\r\n// 拿到已经选择该课程的人数  \r\n// 拿到该课程的老师名字     √\r\n// 拿到本学生是否已经选了该课  √\r\n\r\n\r\nexport default class Course extends Component {\r\n    async componentDidMount() {\r\n        this.setState({\r\n            isLoading: true\r\n        })\r\n        const result = await getAllCourses();\r\n        const chooseCourse = await getChooseCourse();\r\n        let courses = result ? result.data.data : [];\r\n        let chooseCourses = chooseCourse ? chooseCourse.data.data.map(item => item.id) : [];\r\n        chooseCourses = [...this.state.chooseCourses, ...chooseCourses];\r\n        //修改一下courses的参数\r\n        //1. id => key  √\r\n        //2. TeacherId => TeacherName  √\r\n        //2. capacity => ?/总量  \r\n        this.setState({\r\n            chooseCourses: chooseCourses\r\n        }, () => {\r\n            courses = courses.map(async (item) => {\r\n                item.key = item.id;\r\n                const res = await getTeacherById(item.TeacherId);\r\n                const count = await showStudent(item.id);\r\n                item.nowCount = count ? count.data.data.length : 0;\r\n                item.teacherName = res ? res.data.data.name : \"\";\r\n                item.isChoose = this.state.chooseCourses.indexOf(item.id) == -1 ? false : true\r\n                return item;\r\n                // \r\n            })\r\n        });\r\n        Promise.all(courses).then(res => {\r\n            this.setState({\r\n                courses: res,\r\n                isLoading: false\r\n            })\r\n        })\r\n        // console.log(this.state.chooseCourse);\r\n\r\n        // console.log(this.props.location.state);\r\n    }\r\n\r\n    state = {\r\n        courses: [],\r\n        isLoading: false,\r\n        chooseCourses: []\r\n    }\r\n    // 如果已经选了就退，如果没选就选\r\n    controlChoose = async (e) => {\r\n        if (e.isChoose) {\r\n            // 退课\r\n            const result = await outCourse(e.id);\r\n            if (result && result.data.msg == 'success') {\r\n                //退课成功\r\n                this.setState(prev => {\r\n                    let newChoose = prev.chooseCourses.filter(item => {\r\n                        return item != e.id\r\n                    });\r\n                    let newCourses = deepClone(prev.courses);\r\n                    newCourses = newCourses.map(item => {\r\n                        item.isChoose = newChoose.indexOf(item.id) == -1 ? false : true;\r\n                        if (item.id === e.id) {\r\n                            item.nowCount--;\r\n                            // const count = await showStudent(item.id);\r\n                            // item.nowCount = count.data.data.length;\r\n                        }\r\n                        return item;\r\n                    })\r\n                    return {\r\n                        chooseCourses: newChoose,\r\n                        courses: newCourses\r\n                    }\r\n                })\r\n            } else {\r\n                message.error(\"退课失败\", 2);\r\n            }\r\n        } else if (!e.isChoose) {\r\n            // 选课\r\n            if (e.nowCount == e.capacity) {\r\n                message.error(\"课容量已满，请联系任课老师\", 2);\r\n                return null;\r\n            }\r\n            const result = await chooseCourseFromStd(e.id);\r\n            if (result && result.data.msg == 'success') {\r\n                //选课成功    setState调用了两次  是因为没有深度克隆的原因\r\n                this.setState(prev => {\r\n                    let newChoose = [...prev.chooseCourses, e.id];\r\n                    // 需要深克隆才行\r\n                    let newCourses = deepClone(prev.courses);\r\n                    newCourses = newCourses.map(item => {\r\n                        item.isChoose = newChoose.indexOf(item.id) == -1 ? false : true;\r\n                        if (item.id === e.id) {\r\n                            item.nowCount++;\r\n                        }\r\n                        return item;\r\n                    })\r\n                    return {\r\n                        chooseCourses: newChoose,\r\n                        courses: newCourses\r\n                    }\r\n                })\r\n            } else {\r\n                message.error(\"选课失败\", 2);\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <Spin spinning={this.state.isLoading}>\r\n                <Table className=\"course_table\" dataSource={this.state.courses} pagination={false}>\r\n                    <Column title=\"课程\" dataIndex=\"name\" key=\"name\" />\r\n                    <Column title=\"星期\" dataIndex=\"weekDay\" key=\"weekDay\" />\r\n                    <Column title=\"时间\" dataIndex=\"time\" key=\"time\" />\r\n                    <Column title=\"上课地点\" dataIndex=\"place\" key=\"address\" />\r\n                    <Column title=\"学分\" dataIndex=\"score\" key=\"score\" />\r\n                    <Column title=\"课容量\" key=\"capacity\"\r\n                        render={(record) => {\r\n                            return (\r\n                                <Space>{record.nowCount}/{record.capacity}\r\n                                    {record.nowCount == record.capacity ? <Tag color=\"red\">已满</Tag> : \"\"}\r\n                                </Space>\r\n                            )\r\n                        }}\r\n                    />\r\n                    <Column title=\"任课老师\" dataIndex=\"teacherName\" key=\"teacherName\" />\r\n                    <Column\r\n                        title=\"操作\"\r\n                        key=\"action\"\r\n                        render={(record) => {\r\n                            return (\r\n                                <Button\r\n                                    onClick={() => { this.controlChoose(record) }}\r\n                                    type=\"primary\"\r\n                                    danger={record.isChoose}>\r\n                                    {record.isChoose ? \"退课\" : \"选课\"}\r\n                                </Button>\r\n                            )\r\n                        }}\r\n                    />\r\n                </Table>\r\n            </Spin>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n// import Layout from \"../layout\";\r\nimport { Link, Route, withRouter, Switch } from \"react-router-dom\";\r\nimport { Layout, Menu, Breadcrumb, Button } from 'antd';\r\nimport {\r\n    DesktopOutlined,\r\n    BankOutlined,\r\n    UserOutlined,\r\n} from '@ant-design/icons';\r\nimport \"./index.css\"\r\nimport StudentForm from \"../../components/studentForm\";\r\nimport ChooseCourse from \"../../components/chooseCourse\";\r\nimport CourseTable from '../../components/courseTable';\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nclass Student extends Component {\r\n    state = {\r\n        collapsed: false,\r\n        selectedMenu: \"主页\",\r\n        openKeys: [\"sub1\"],\r\n        selectedKeys: [\"1\"],\r\n        pathname: [\"index\", \"update\", \"choose\", \"showcourse\"],\r\n        menuName: [\"主页\", \"修改密码\", \"选课\", \"查看课表\"]\r\n    };\r\n    onCollapse = collapsed => {\r\n        this.setState({ collapsed });\r\n    };\r\n    clickMenu = (e) => {\r\n        this.setState({\r\n            selectedMenu: e.item.node.innerText,\r\n            selectedKeys: e.keyPath\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        this.pathArray = this.props.location.pathname.split(\"/\");\r\n        this.currentPath = this.pathArray.length === 2 ? this.pathArray[1] : this.pathArray[2];\r\n        this.setState({\r\n            selectedKeys: [this.state.pathname.indexOf(this.currentPath) + 1 + \"\"],\r\n            selectedMenu: this.state.menuName[this.state.pathname.indexOf(this.currentPath)]\r\n        })\r\n    }\r\n\r\n    onOpenChange = (e) => {\r\n        this.setState({\r\n            openKeys: e\r\n        })\r\n    }\r\n    \r\n    logout = (e) => {\r\n        // 删掉cookie\r\n        let flag = window.confirm(\"确定退出登录吗?\");\r\n        if (flag) {\r\n            document.cookie = \"token=; expires=0\";\r\n            this.props.history.push(\"/\");\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <Layout style={{ minHeight: '100vh' }}>\r\n                <Sider collapsible collapsed={this.state.collapsed} onCollapse={this.onCollapse}>\r\n                    <div className=\"logo\" />\r\n                    <Header className=\"site-layout-background title_name\" style={{ padding: 0 }}>学生端</Header>\r\n                    <Menu\r\n                        selectedKeys={this.state.selectedKeys}\r\n                        openKeys={this.state.openKeys}\r\n                        onOpenChange={this.onOpenChange}\r\n                        theme=\"dark\"\r\n                        mode=\"inline\">\r\n                        <Menu.Item onClick={this.clickMenu} key=\"1\" icon={<BankOutlined />}>\r\n                            <Link to={{\r\n                                pathname: \"/index\",\r\n                                state: this.props.userObj\r\n                            }}>主页\r\n                            </Link>\r\n                        </Menu.Item>\r\n                        <Menu.Item onClick={this.clickMenu} key=\"2\" icon={<UserOutlined />}>\r\n                            <Link to={{\r\n                                pathname: \"/index/update\",\r\n                                state: this.props.userObj\r\n                            }}>\r\n                                修改密码\r\n                            </Link>\r\n                        </Menu.Item>\r\n\r\n                        <SubMenu key=\"sub1\" icon={<DesktopOutlined />} title=\"课程\">\r\n                            <Menu.Item onClick={this.clickMenu} key=\"3\"><Link to={{\r\n                                pathname: \"/index/choose\",\r\n                                state: this.props.userObj\r\n                            }}>选课</Link></Menu.Item>\r\n                            <Menu.Item onClick={this.clickMenu} key=\"4\"><Link to={{\r\n                                pathname: \"/index/showcourse\",\r\n                                state: this.props.userObj\r\n                            }}>查看课表</Link></Menu.Item>\r\n                        </SubMenu>\r\n                    </Menu>\r\n                </Sider>\r\n                <Layout className=\"site-layout\">\r\n                    <Header className=\"site-layout-background\" style={{ padding: 0 }} >\r\n                        <Button onClick={this.logout} className=\"logout_btn\">退出登录</Button>\r\n                    </Header>\r\n                    <Content style={{ margin: '0 16px' }}>\r\n                        <Breadcrumb style={{ margin: '16px 0' }}>\r\n                            {/* 根据路由信息来修改 */}\r\n                            <Breadcrumb.Item>{this.props.userObj.name}</Breadcrumb.Item>\r\n                            <Breadcrumb.Item>{this.state.selectedMenu}</Breadcrumb.Item>\r\n                        </Breadcrumb>\r\n                        <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 600 }}>\r\n                            <Switch>\r\n                                <Route path=\"/index/update\" component={StudentForm}></Route>\r\n                                <Route path=\"/index/choose\" component={ChooseCourse}></Route>\r\n                                <Route path=\"/index/showcourse\" component={CourseTable}></Route>\r\n                                <div>\r\n                                    欢迎来到广州大学选课系统\r\n                                </div>\r\n                            </Switch>\r\n\r\n                        </div>\r\n                    </Content>\r\n                    <Footer style={{ textAlign: 'center' }}>Ant Design ©2018 Created by Ant UED</Footer>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Student);","import { getTeacherCourse, getTeacherById } from \"../../services/teacherSer\";\r\nimport { showStudent, delCourse } from \"../../services/courseSer\";\r\nimport { outStd } from \"../../services/stdSer\";\r\nimport React, { useState, useEffect } from 'react'\r\nimport { Table, Spin, Button, message, Space, Tag, Modal } from 'antd';\r\nimport \"./index.css\";\r\nconst { Column, ColumnGroup } = Table;\r\n\r\nfunction TeaCourse() {\r\n    //当前老师的课程\r\n    const [courses, setCourses] = useState(0);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [mLoading, setMLoading] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    // 选了某课程的学生们\r\n    const [studentsInACourse, setStudentsInACourse] = useState({ chooseStd: [], courseId: 0 });\r\n    // 老师退掉的学生们\r\n    const [outStdInACourse, setOutStdInACourse] = useState({ courseId: 0, outStd: [] });\r\n    // const [ChooseStudent, setChooseStudent] = useState([]);\r\n    //请求课程信息\r\n    async function requestData() {\r\n        setIsLoading(true);\r\n        let result = await getTeacherCourse();\r\n        if (result) {\r\n            result.data.data.rows = result.data.data.rows.map(async item => {\r\n                // console.log(item);\r\n                let chooseStd = await showStudent(item.id);\r\n                item.chooseStd = chooseStd.data.data;\r\n                // return chooseStd.data.data;\r\n                return item;\r\n            })\r\n            Promise.all(result.data.data.rows).then(res => {\r\n                setCourses(res);\r\n                setIsLoading(false);\r\n            })\r\n        }\r\n    }\r\n    const deleteCourse = async (record) => {\r\n        let flag = window.confirm(\"确认删除该课程吗？\");\r\n        if (!flag) {\r\n            return;\r\n        }\r\n        let result = \"\";\r\n        result = await delCourse(record.id);\r\n        if (result.data.code == \"403\") {\r\n            message.error(result.data.msg, 3);\r\n        } else if (result.data.msg == \"success\") {\r\n            message.success(\"删除成功\", 2);\r\n        } else {\r\n            message.error(\"删除失败\", 3);\r\n        }\r\n        // 刷新一下课程信息\r\n        requestData()\r\n    }\r\n    function detail(record) {\r\n        let stdAndCourse = {\r\n            courseId: record.id,\r\n            chooseStd: record.chooseStd\r\n        }\r\n        setStudentsInACourse(stdAndCourse);\r\n        setVisible(true);\r\n    }\r\n    function handleOk() {\r\n        setMLoading(true);\r\n        // 没有选到人\r\n        if (outStdInACourse.outStd.length == 0) {\r\n            handleCancel();\r\n            setMLoading(false);\r\n            return;\r\n        }\r\n        // 对outStd里的所有学生进行删除\r\n        let flag = window.confirm(\"确定删除这些学生吗?\");\r\n        if (!flag) {\r\n            return;\r\n        }\r\n        let result = \"\";\r\n        result = outStdInACourse.outStd.map(async std => {\r\n            return await outStd(outStdInACourse.courseId, std);\r\n        })\r\n        Promise.all(result).then(res => {\r\n            if (res[0].data.msg === \"success\") {\r\n                message.success(\"删除成功\", 2);\r\n            } else {\r\n                message.error(\"操作失败\", 2);\r\n            }\r\n            setMLoading(false);\r\n            setVisible(false);\r\n        })\r\n        // 刷新外面学生人数\r\n        requestData();\r\n    }\r\n    function handleCancel() {\r\n        //把选择到的学生取消掉\r\n        let outStd = [];\r\n        setOutStdInACourse({ courseId: studentsInACourse.courseId, outStd: outStd });\r\n        // 重置当前的course和该course的学生\r\n        let stdAndCourse = {\r\n            courseId: 0,\r\n            chooseStd: []\r\n        }\r\n        setStudentsInACourse(stdAndCourse);\r\n        setVisible(false);\r\n    }\r\n    async function outStudent(std) {\r\n        // 每点击一个，就放进outStd这个状态里\r\n        let outStd = [];\r\n        outStd.push(std.id);\r\n        let newObj = {\r\n            courseId: studentsInACourse.courseId,\r\n            outStd: outStd\r\n        };\r\n        setOutStdInACourse(newObj);\r\n    }\r\n    useEffect(() => {\r\n        requestData();\r\n    }, [])\r\n    return (\r\n        <Spin spinning={isLoading}>\r\n            <Table className=\"course_table\" dataSource={courses} pagination={false}>\r\n                <Column title=\"课程\" dataIndex=\"name\" key=\"name\" />\r\n                <Column title=\"星期\" dataIndex=\"weekDay\" key=\"weekDay\" />\r\n                <Column title=\"时间\" dataIndex=\"time\" key=\"time\" />\r\n                <Column title=\"上课地点\" dataIndex=\"place\" key=\"address\" />\r\n                <Column title=\"学分\" dataIndex=\"score\" key=\"score\" />\r\n                <Column title=\"课容量\" key=\"capacity\"\r\n                    render={(record) => {\r\n                        return (\r\n                            <Space>\r\n                                {record.chooseStd.length}/{record.capacity}\r\n                                {record.chooseStd.length == record.capacity ? <Tag color=\"red\">已满</Tag> : \"\"}\r\n                            </Space>\r\n                        )\r\n                    }}\r\n                />\r\n                <ColumnGroup title=\"操作\">\r\n                    <Column\r\n                        className=\"action_btn\"\r\n                        key=\"detail\"\r\n                        render={(record) => {\r\n                            return (\r\n                                <>\r\n                                    <Button\r\n                                        onClick={() => {\r\n                                            detail(record)\r\n                                        }}\r\n                                        type=\"primary\"\r\n                                    >详细\r\n                                </Button>\r\n                                    <Modal\r\n                                        bodyStyle={{ minHeight: 71.4 }}\r\n                                        visible={visible}\r\n                                        title=\"已选学生\"\r\n                                        onOk={handleOk}\r\n                                        onCancel={handleCancel}\r\n\r\n                                        footer={[\r\n                                            <Button key=\"back\" onClick={handleCancel}>取消</Button>,\r\n                                            <Button key=\"submit\" type=\"primary\" loading={mLoading} onClick={handleOk}>提交\r\n                                            </Button>,\r\n                                        ]}\r\n                                    >\r\n                                        {studentsInACourse.chooseStd.map(std => {\r\n                                            console.log(std);\r\n                                            return (\r\n                                                <Tag color=\"red\" closable onClose={() => outStudent(std)}>\r\n                                                    {std.name}\r\n                                                </Tag>\r\n                                            )\r\n                                        })}\r\n                                    </Modal>\r\n                                </>\r\n                            )\r\n                        }}\r\n                    />\r\n                    <Column\r\n                        className=\"action_btn\"\r\n                        key=\"delete\"\r\n                        render={(record) => {\r\n                            return (\r\n                                <Button\r\n                                    onClick={() => {\r\n                                        deleteCourse(record)\r\n                                    }}\r\n                                    type=\"primary\"\r\n                                    danger\r\n                                >删除\r\n                                </Button>\r\n\r\n                            )\r\n                        }}\r\n                    />\r\n                </ColumnGroup>\r\n\r\n            </Table>\r\n        </Spin>\r\n    )\r\n}\r\n\r\nexport default TeaCourse","import React, { Component } from 'react'\r\n// import Layout from \"../layout\";\r\nimport { Link, Route, withRouter, Switch } from \"react-router-dom\";\r\nimport { Layout, Menu, Breadcrumb, Button } from 'antd';\r\nimport {\r\n    DesktopOutlined,\r\n    BankOutlined,\r\n    UserOutlined,\r\n} from '@ant-design/icons';\r\nimport \"./index.css\"\r\nimport StudentForm from \"../../components/studentForm\";\r\n// import ChooseCourse from \"../../components/chooseCourse\";\r\nimport TeaCourse from \"../../components/teaCourse\";\r\nimport CourseTable from '../../components/courseTable';\r\nimport AddCourse from \"../../components/addCourse\";\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nclass Teacher extends Component {\r\n    state = {\r\n        collapsed: false,\r\n        selectedMenu: \"主页\",\r\n        openKeys: [\"sub1\"],\r\n        selectedKeys: [\"1\"],\r\n        pathname: [\"index\", \"update\", \"mycourse\", \"showcourse\",\"addcourse\"],\r\n        menuName: [\"主页\", \"修改密码\", \"管理课程\", \"查看课表\", \"添加课程\"]\r\n    };\r\n    onCollapse = collapsed => {\r\n        this.setState({ collapsed });\r\n    };\r\n    clickMenu = (e) => {\r\n        this.setState({\r\n            selectedMenu: e.item.node.innerText,\r\n            selectedKeys: e.keyPath\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        this.pathArray = this.props.location.pathname.split(\"/\");\r\n        this.currentPath = this.pathArray.length === 2 ? this.pathArray[1] : this.pathArray[2];\r\n        this.setState({\r\n            selectedKeys: [this.state.pathname.indexOf(this.currentPath) + 1 + \"\"],\r\n            selectedMenu: this.state.menuName[this.state.pathname.indexOf(this.currentPath)]\r\n        })\r\n    }\r\n\r\n    onOpenChange = (e) => {\r\n        this.setState({\r\n            openKeys: e\r\n        })\r\n    }\r\n    \r\n    logout = (e) => {\r\n        // 删掉cookie\r\n        let flag = window.confirm(\"确定退出登录吗?\");\r\n        if (flag) {\r\n            document.cookie = \"token=; expires=0\";\r\n            this.props.history.push(\"/\");\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <Layout style={{ minHeight: '100vh' }}>\r\n                <Sider collapsible collapsed={this.state.collapsed} onCollapse={this.onCollapse}>\r\n                    <div className=\"logo\" />\r\n                    <Header className=\"site-layout-background title_name\" style={{ padding: 0 }}>教师端</Header>\r\n                    <Menu\r\n                        selectedKeys={this.state.selectedKeys}\r\n                        openKeys={this.state.openKeys}\r\n                        onOpenChange={this.onOpenChange}\r\n                        theme=\"dark\"\r\n                        mode=\"inline\">\r\n                        <Menu.Item onClick={this.clickMenu} key=\"1\" icon={<BankOutlined />}>\r\n                            <Link to={{\r\n                                pathname: \"/index\",\r\n                                state: this.props.userObj\r\n                            }}>主页\r\n                            </Link>\r\n                        </Menu.Item>\r\n                        <Menu.Item onClick={this.clickMenu} key=\"2\" icon={<UserOutlined />}>\r\n                            <Link to={{\r\n                                pathname: \"/index/update\",\r\n                                state: this.props.userObj\r\n                            }}>\r\n                                修改密码\r\n                            </Link>\r\n                        </Menu.Item>\r\n\r\n                        <SubMenu key=\"sub1\" icon={<DesktopOutlined />} title=\"课程\">\r\n                            <Menu.Item onClick={this.clickMenu} key=\"3\"><Link to={{\r\n                                pathname: \"/index/mycourse\",\r\n                                state: this.props.userObj\r\n                            }}>管理课程</Link></Menu.Item>\r\n                            <Menu.Item onClick={this.clickMenu} key=\"4\"><Link to={{\r\n                                pathname: \"/index/showcourse\",\r\n                                state: this.props.userObj\r\n                            }}>我的课表</Link></Menu.Item>\r\n                            <Menu.Item onClick={this.clickMenu} key=\"5\"><Link to={{\r\n                                pathname: \"/index/addcourse\",\r\n                                state: this.props.userObj\r\n                            }}>添加课程</Link></Menu.Item>\r\n                        </SubMenu>\r\n                    </Menu>\r\n                </Sider>\r\n                <Layout className=\"site-layout\">\r\n                    <Header className=\"site-layout-background\" style={{ padding: 0 }} >\r\n                        <Button onClick={this.logout} className=\"logout_btn\">退出登录</Button>\r\n                    </Header>\r\n                    <Content style={{ margin: '0 16px' }}>\r\n                        <Breadcrumb style={{ margin: '16px 0' }}>\r\n                            {/* 根据路由信息来修改 */}\r\n                            <Breadcrumb.Item>{this.props.userObj.name}</Breadcrumb.Item>\r\n                            <Breadcrumb.Item>{this.state.selectedMenu}</Breadcrumb.Item>\r\n                        </Breadcrumb>\r\n                        <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 600 }}>\r\n                            <Switch>\r\n                                <Route path=\"/index/update\" component={StudentForm}></Route>\r\n                                <Route path=\"/index/mycourse\" component={TeaCourse}></Route>\r\n                                <Route path=\"/index/showcourse\" component={CourseTable}></Route>\r\n                                <Route path=\"/index/addcourse\" component={AddCourse}></Route>\r\n                                <div>\r\n                                    欢迎来到广州大学选课系统\r\n                                </div>\r\n                            </Switch>\r\n\r\n                        </div>\r\n                    </Content>\r\n                    <Footer style={{ textAlign: 'center' }}>Ant Design ©2018 Created by Ant UED</Footer>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Teacher);","import React, { Component } from 'react'\r\nimport Admin from \"../adm\";\r\nimport Student from \"../std\";\r\nimport Teacher from \"../tea\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport { getDetailById } from \"../../services/loginSer\";\r\nclass index extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.props = props;\r\n        this.cookie = document.cookie.split(\"=\")[1];\r\n        // this.userObj = props.history.location.state;\r\n        //根据cookie来获得用户信息\r\n\r\n    }\r\n    componentDidMount() {\r\n        if (!this.cookie) {\r\n            alert(\"暂无权限！\");\r\n            this.props.history.push('/');\r\n        }\r\n        if (this.cookie) {\r\n            //发送请求拿到已登录的用户信息\r\n            getDetailById().then(res => {\r\n                this.setState({\r\n                    user: res.data.data\r\n                })\r\n            });\r\n        }\r\n    }\r\n\r\n    state = {\r\n        user: {}\r\n    }\r\n    render() {\r\n        if (this.state.user && this.state.user.job === \"admin\") {\r\n            return (\r\n                <Admin userObj={this.state.user}></Admin>\r\n            )\r\n        } else if (this.state.user && this.state.user.job === \"teacher\") {\r\n            return (\r\n                <Teacher userObj={this.state.user}></Teacher>\r\n            )\r\n        } else if (this.state.user && this.state.user.job === \"student\") {\r\n            return (\r\n                <Student userObj={this.state.user}></Student>\r\n            )\r\n        } else {\r\n            return (\r\n                <h1>暂无权限</h1>\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\nexport default withRouter(index);","import React from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Login from \"./routes/login\";\nimport Index from \"./routes/index\";\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/\" exact={true} component={Login}></Route>\n        <Route path=\"/index\" component={Index}></Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}