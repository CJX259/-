{"version":3,"sources":["services/loginSer.js","components/loginForm/index.js","routes/login/index.js","services/stdSer.js","services/teacherSer.js","components/addUser/index.js","components/userForm/index.js","components/controlUser/index.js","components/studentForm/index.js","services/courseSer.js","components/courseForm/index.js","components/showCourse/index.js","routes/adm/index.js","utils/index.js","components/chooseCourse/index.js","components/courseTable/index.js","routes/std/index.js","components/teaCourse/index.js","components/addCourse/index.js","routes/tea/index.js","routes/index/index.js","App.js","serviceWorker.js","index.js"],"names":["login","Nob","password","a","axios","post","then","res","catch","err","console","log","get","resetPassword","newPassword","LoginForm","state","isLoading","onFinish","values","sendLogin","this","setState","resp","data","message","success","props","history","push","error","tip","spinning","name","labelCol","span","wrapperCol","className","Item","rules","required","label","prefix","UserOutlined","placeholder","type","LockOutlined","htmlType","Component","withRouter","index","outStd","cid","sid","delStudent","getAllStudent","updateStudent","sObj","addStd","getTeacherById","tid","getTeacherCourse","getAllTeacher","delTeacher","updateTeacher","tObj","addTea","length","cPassword","result","localJob","window","localStorage","getItem","useEffect","setItem","location","removeItem","pathname","xs","sm","md","FieldNumberOutlined","style","textAlign","marginLeft","UserForm","k","newValues","user","controlJob","id","reqTea","reqStd","onSetVisible","Form","useForm","form","initialValues","disabled","float","marginRight","Column","Table","ColumnGroup","requestAllTeacher","setIsLoading","setUser","rows","requestAllStudent","record","setVisible","setCurrentUser","confirm","handleCancel","useState","visible","currentUser","dataSource","pagination","title","dataIndex","key","render","onClick","clickUpdateUser","delUser","danger","bodyStyle","minHeight","onOk","onCancel","footer","StudentForm","userObj","nPassword","getAllCourses","getChooseCourse","chooseCourseFromStd","outCourse","showStudent","addCourse","courseObj","delCourse","updateCourse","cObj","Option","Select","time","value","timeAndWeek","children","formItemLayout","tailFormItemLayout","offset","building","AddCourse","course","filter","item","place","search","class","replace","capacity","score","weekDay","reqCourse","prefixSelector","noStyle","width","map","scrollToFirstError","options","addonBefore","min","max","ShowCourse","requestCourse","courses","TeacherId","count","nowCount","teacherName","Promise","all","setCourses","mVisible","setMVisible","current","setCurrent","deleteCourse","color","Header","Layout","Content","Footer","Sider","SubMenu","Menu","Teacher","collapsed","selectedMenu","openKeys","selectedKeys","menuName","onCollapse","clickMenu","e","node","innerText","keyPath","onOpenChange","logout","document","cookie","pathArray","split","currentPath","indexOf","minWidth","collapsible","padding","theme","mode","icon","BankOutlined","to","DesktopOutlined","ApartmentOutlined","margin","path","component","ControlUser","AddUser","deepClone","origin","newObj","Array","temple","Course","chooseCourses","controlChoose","isChoose","msg","prev","newChoose","newCourses","i","j","tempCourse","chooseCourse","courseTable","job","timeArray","newData","columns","text","bordered","loading","Student","ChooseCourse","CourseTable","TeaCourse","mLoading","setMLoading","chooseStd","courseId","studentsInACourse","setStudentsInACourse","outStdInACourse","setOutStdInACourse","requestData","handleOk","std","stdAndCourse","detail","closable","onClose","outStudent","alert","getDetailById","App","exact","Login","Index","Boolean","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.61cfab70.chunk.js","sourcesContent":["import axios from \"axios\";\r\nexport async function login(Nob, password){\r\n    return await axios.post(\"/api/user/login\", {\r\n        Nob : Nob,\r\n        password : password\r\n    }).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\nexport async function getDetailById(){\r\n    return await axios.get(\"/api/user/loginByCookie\").then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\nexport async function resetPassword(newPassword){\r\n    return await axios.post(\"/api/user/resetPwd\",{\r\n        password : newPassword\r\n    }).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Form, Input, Button, Spin, message } from \"antd\";\r\nimport { login } from \"../../services/loginSer\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport \"./index.css\";\r\nclass LoginForm extends Component {\r\n    state = {\r\n        isLoading: false\r\n    }\r\n    async sendLogin(Nob, password) {\r\n        this.setState({\r\n            isLoading: true\r\n        });\r\n        try{\r\n            const resp = await login(Nob, password);\r\n            if (typeof resp.data.data != \"string\") {\r\n                await message.success(\"登录成功\", 1);\r\n                this.props.history.push(\"/index\");\r\n            } else {\r\n                message.error(resp.data.data, 3);\r\n            }\r\n        }catch(err){\r\n            message.error(err);\r\n        }\r\n        this.setState({\r\n            isLoading: false\r\n        })\r\n    }\r\n    onFinish = values => {\r\n        this.sendLogin(values.Nob, values.password);\r\n    }\r\n    render() {\r\n        const FormConfig = {\r\n            labelCol: {\r\n                span: 5\r\n            },\r\n            wrapperCol: {\r\n                span: 16\r\n            }\r\n        }\r\n\r\n        return (\r\n            <Spin tip=\"登录中，请稍后...\" spinning={this.state.isLoading}>\r\n                <Form name=\"loginUser\" {...FormConfig} className=\"login_form\" onFinish={this.onFinish}>\r\n                    <Form.Item\r\n                        name=\"Nob\"\r\n                        rules={[{ required: true, message: 'Please input your number!' }]}\r\n                        label=\"账号\">\r\n                        <Input prefix={<UserOutlined />} placeholder=\"userNumber\" />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"password\"\r\n                        rules={[{ required: true, message: 'Please input your Password!' }]}\r\n                        label=\"密码\">\r\n                        <Input type=\"password\" prefix={<LockOutlined />} placeholder=\"password\" />\r\n                    </Form.Item>\r\n                    <Form.Item wrapperCol={24} className=\"login_btn\">\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            登录\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Spin>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(LoginForm);","import React from 'react'\r\nimport \"./index.css\";\r\nimport LoginForm from \"../../components/loginForm\";\r\nexport default function index(props) {\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"login_wrapper\">\r\n                <span>登录</span>\r\n                <LoginForm></LoginForm>\r\n            </div>\r\n        </div>\r\n    )\r\n};","import axios from \"axios\";\r\n\r\nexport async function outStd(cid,sid){\r\n    return await axios.get(`/api/course/outStudent?cid=${cid}&sid=${sid}`).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\nexport async function delStudent(sid){\r\n    return await axios.get(`/api/std/delStd?sid=${sid}`).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\nexport async function getAllStudent(){\r\n    return await axios.get(\"/api/std/getAllStudent\").then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\nexport async function updateStudent(sid, sObj){\r\n    return await axios.post(`/api/std/updateStd`, {\r\n        sid : sid,\r\n        ...sObj\r\n    }).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\nexport async function addStd(sObj){\r\n    return await axios.post(`/api/std/addStd`,{\r\n        ...sObj\r\n    }).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}","\r\nimport  axios from \"axios\";\r\n\r\n\r\nexport async function getTeacherById(tid){\r\n    return await axios.get(`/api/teacher/getTeacherById?tid=${tid}`).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\n\r\nexport async function getTeacherCourse(){\r\n    return await axios.get(`/api/teacher/showCourse`).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\nexport async function getAllTeacher(){\r\n    return await axios.get(\"/api/teacher/getAllTeacher\").then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\nexport async function delTeacher(tid){\r\n    return await axios.get(`/api/teacher/delTeacher?tid=${tid}`).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\nexport async function updateTeacher(tid, tObj){\r\n    return await axios.post(`/api/teacher/updateTeacher`, {\r\n        tid : tid,\r\n        ...tObj\r\n    }).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\nexport async function addTea(tObj){\r\n    return await axios.post(`/api/teacher/addTeacher`,{\r\n        ...tObj\r\n    }).then(res=>{\r\n        return res;\r\n    }).catch(function (err){\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}","import React, { useEffect } from 'react'\r\nimport { LockOutlined, UserOutlined,FieldNumberOutlined } from '@ant-design/icons';\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { addStd } from \"../../services/stdSer\";\r\nimport { addTea } from \"../../services/teacherSer\";\r\nimport { Form, Input, Button, message } from \"antd\"\r\nfunction AddUser(props) {\r\n    const formItemLayout = {\r\n        labelCol: {\r\n            xs: {\r\n                span: 8,\r\n            },\r\n            sm: {\r\n                span: 5,\r\n            },\r\n            md: {\r\n                span: 4\r\n            }\r\n        },\r\n        wrapperCol: {\r\n            xs: {\r\n                span: 16,\r\n            },\r\n            sm: {\r\n                span: 14,\r\n            },\r\n            md: {\r\n                span: 6\r\n            }\r\n        },\r\n    };\r\n    const onFinish = async (values) => {\r\n        if(values.password.length <=5 ){\r\n            message.error(\"密码长度最小为6位\",4);\r\n            return null;\r\n        }\r\n        if (values.password !== values.cPassword) {\r\n            message.error(\"前后密码不一致\", 3);\r\n            return null;\r\n        }\r\n        let result = null;\r\n        let localJob = window.localStorage.getItem(\"controlJob\");\r\n        if (localJob === \"teacher\") {\r\n            if(values.Nob[0] !=='t'){\r\n                message.error(\"教师序号首字母为t\",4);\r\n                return null;\r\n            }\r\n            //添加教师\r\n            result = await addTea(values);\r\n        } else if (localJob === \"student\") {\r\n            if(values.Nob[0] !== \"1\"){\r\n                message.error(\"学生序号为1开头\",4);\r\n                return null;\r\n            }\r\n            //添加学生\r\n            result = await addStd(values);\r\n        } else {\r\n            message.error(\"识别信息出错\", 3);\r\n        }\r\n        if(result.data.data && typeof result.data.data != \"string\"){\r\n            message.success(\"添加成功\",1);\r\n        }else{\r\n            message.error(\"序号不可重复\",4);\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        window.localStorage.setItem(\"controlJob\", props.location.state);\r\n        return () => {\r\n            // 离开的时候会触发  刷新不会触发,也就是说刷新后依然有，不会被删掉\r\n            window.localStorage.removeItem(\"controlJob\");\r\n        }\r\n    }, [props.location.pathname])\r\n    return (\r\n        <Form name=\"addUser\" {...formItemLayout} className=\"addUser_form\" onFinish={onFinish}>\r\n            <Form.Item\r\n                name=\"Nob\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '请输入序号'\r\n                    },\r\n                ]}\r\n                label=\"序号\">\r\n                <Input type=\"text\"  \r\n                prefix={<FieldNumberOutlined />} \r\n                placeholder={`请输入序号`} />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"name\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '请输入姓名'\r\n                    },\r\n                ]}\r\n                label=\"姓名\">\r\n                <Input type=\"text\"  prefix={<UserOutlined />} placeholder={\"请输入姓名\"} />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"password\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '请输入密码'\r\n                    },\r\n                ]}\r\n                label=\"密码\">\r\n                <Input type=\"password\" prefix={<LockOutlined />} placeholder=\"请输入密码\" />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"cPassword\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '请确认密码'\r\n                    },\r\n                ]}\r\n                label=\"确认密码\">\r\n                <Input type=\"password\" prefix={<LockOutlined />} placeholder=\"请确认密码\" />\r\n            </Form.Item>\r\n            <Form.Item className=\"addUser_form\" wrapperCol={{ span: 14 }} style={{ textAlign: \"center\" }} >\r\n                <Button type=\"primary\" htmlType=\"reset\">\r\n                    重置\r\n                </Button>\r\n                <Button style={{ marginLeft: 20 }} type=\"primary\" htmlType=\"submit\">\r\n                    提交\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    )\r\n}\r\nexport default withRouter(AddUser);","import React from 'react'\r\nimport \"./index.css\"\r\nimport { Form, Input, Button, message } from \"antd\";\r\nimport { updateTeacher } from \"../../services/teacherSer\";\r\nimport { updateStudent } from \"../../services/stdSer\";\r\n/**\r\n * props : user为点击的用户信息，controlJob为该用户是教师还是学生\r\n * onSetVisible关闭modal\r\n * reqStd  reqTea请求所有学生/教师\r\n */\r\nexport default function UserForm(props) {\r\n    const onFinish = async (values) => {\r\n        //不把id放在form里了\r\n        // values.id = props.user.id;\r\n        let newValues = {};\r\n        for (const k in values) {\r\n            // console.log(typeof values.k);\r\n            if (typeof values[k] != \"undefined\") {\r\n                newValues[k] = values[k];\r\n            }\r\n        }\r\n        // 使用newValues，去除了undefined的内容\r\n        let result = null;\r\n        if (props.user.controlJob === \"teacher\") {\r\n            // 修改老师\r\n            result = await updateTeacher(newValues.id, newValues);\r\n        } else if (props.user.controlJob === \"student\") {\r\n            //修改学生\r\n            result = await updateStudent(newValues.id, newValues);\r\n\r\n        } else {\r\n            message.error(\"更新操作出错\", 3);\r\n        }\r\n        if (typeof result.data.data !=\"string\") {\r\n            message.success(\"更新成功\", 1);\r\n            // 重新发送请求\r\n            if(props.user.controlJob === \"teacher\"){\r\n                props.reqTea();\r\n            }else if(props.user.controlJob === \"student\"){\r\n                props.reqStd();\r\n            }\r\n            props.onSetVisible(false);\r\n        }\r\n    }\r\n    const FormConfig = {\r\n        labelCol: {\r\n            span: 6\r\n        },\r\n        wrapperCol: {\r\n            span: 16\r\n        }\r\n    }\r\n    const [form] = Form.useForm();\r\n\r\n    return (\r\n        <Form \r\n        form={form}\r\n        initialValues={{\r\n            id:props.user.id,\r\n            Nob : props.user.Nob,\r\n            name : props.user.name\r\n        }}\r\n        name=\"updateUser\" \r\n        {...FormConfig} \r\n        className=\"update_form\" \r\n        onFinish={onFinish}>\r\n            <Form.Item\r\n                name=\"id\"\r\n                label=\"Id\">\r\n                <Input type=\"number\" disabled={true}/>\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"Nob\"\r\n                label={props.user.controlJob === \"teacher\" ? \"工号\" : \"学号\"}>\r\n                <Input type=\"text\" disabled={true} />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"name\"\r\n                label=\"姓名\">\r\n                    {/* <input type=\"text\" name=\"name\" placeholder={props.user.name}></input> */}\r\n                <Input type=\"text\"/>\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"password\"\r\n                label=\"密码\">\r\n                <Input type=\"password\" placeholder=\"需要修改密码？\" />\r\n            </Form.Item>\r\n            <Form.Item wrapperCol={12} className=\"update_form\">\r\n                <Button type=\"primary\" style={{ float: \"right\", marginRight: 40 }} htmlType=\"submit\">\r\n                    提交\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { Spin, Table, message, Button, Modal } from \"antd\";\r\nimport { getAllTeacher, delTeacher } from \"../../services/teacherSer\";\r\nimport { delStudent, getAllStudent } from \"../../services/stdSer\";\r\nimport UserForm from \"../../components/userForm\";\r\nimport \"./index.css\";\r\nconst { Column, ColumnGroup } = Table;\r\nfunction ControlUser(props) {\r\n    async function requestAllTeacher() {\r\n        setIsLoading(true);\r\n        let result = await getAllTeacher();\r\n        setUser(result.data.data.rows);\r\n        setIsLoading(false);\r\n    }\r\n    async function requestAllStudent() {\r\n        setIsLoading(true);\r\n        let result = await getAllStudent();\r\n        setUser(result.data.data.rows);\r\n        setIsLoading(false);\r\n    }\r\n    async function clickUpdateUser(record) {\r\n        setVisible(true);\r\n        setCurrentUser(record);\r\n    }\r\n\r\n    async function delUser(record) {\r\n        let flag = window.confirm(\"确认删除该用户吗？\");\r\n        if (!flag) {\r\n            return null;\r\n        }\r\n        let result = null;\r\n        let localJob = window.localStorage.getItem(\"controlJob\");\r\n        if (localJob === \"teacher\") {\r\n            //del教师\r\n            result = await delTeacher(record.id);\r\n        } else if (localJob === \"student\") {\r\n            //del学生\r\n            result = await delStudent(record.id);\r\n        } else {\r\n            message.error(\"识别查找信息出错\", 3);\r\n        }\r\n        if (typeof result.data.data != \"string\") {\r\n            message.success(\"删除成功！\", 1);\r\n            // 刷新内容\r\n            localJob === \"teacher\" ? requestAllTeacher() : requestAllStudent();\r\n        }else{\r\n            message.error(\"删除操作出错\",2);\r\n        }\r\n    }\r\n    async function handleOk() {\r\n        //记得重置  \r\n    }\r\n    function handleCancel() {\r\n        setVisible(false);\r\n        // 重置当前的user\r\n        \r\n        setCurrentUser({});\r\n    }\r\n    // 查找的用户们\r\n    const [user, setUser] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [currentUser, setCurrentUser] = useState({});\r\n    // 拿到所有的教师/学生\r\n    useEffect(() => {\r\n        window.localStorage.setItem(\"controlJob\", props.location.state);\r\n        let localJob = window.localStorage.getItem(\"controlJob\");\r\n        if (localJob === \"teacher\") {\r\n            //管理教师\r\n            requestAllTeacher();\r\n        } else if (localJob === \"student\") {\r\n            //管理学生\r\n            requestAllStudent();\r\n        } else {\r\n            message.error(\"识别查找信息出错\", 3);\r\n        }\r\n        return () => {\r\n            // 离开的时候会触发  刷新不会触发,也就是说刷新后依然有，不会被删掉\r\n            window.localStorage.removeItem(\"controlJob\");\r\n            setUser([]);\r\n        }\r\n    }, [props.location.pathname])\r\n    return (\r\n        <div>\r\n            <Spin spinning={isLoading}>\r\n                <Table className=\"course_table\" dataSource={user} pagination={false}>\r\n                    <Column title=\"Id\" dataIndex=\"id\" key=\"id\" />\r\n                    <Column title=\"性名\" dataIndex=\"name\" key=\"name\" />\r\n                    <Column\r\n                        title={window.localStorage.getItem(\"controlJob\") === \"teacher\" ? \"工号\" : \"学号\"}\r\n                        dataIndex=\"Nob\"\r\n                        key=\"Nob\" />\r\n                    <ColumnGroup title=\"操作\">\r\n                        <Column\r\n                            key=\"update\"\r\n                            render={(record) => {\r\n                                return (\r\n                                    <>\r\n                                        <Button\r\n                                            onClick={() => { clickUpdateUser(record) }}\r\n                                            type=\"primary\"\r\n                                        >修改\r\n                                        </Button>\r\n                                    </>\r\n                                )\r\n                            }}\r\n                        />\r\n                        <Column\r\n                            key=\"del\"\r\n                            render={(record) => {\r\n                                return (\r\n                                    <Button\r\n                                        onClick={() => { delUser(record) }}\r\n                                        type=\"primary\"\r\n                                        danger>删除\r\n                                    </Button>\r\n                                )\r\n                            }}\r\n                        />\r\n                    </ColumnGroup>\r\n                </Table>\r\n                <Modal\r\n                    bodyStyle={{ minHeight: 71.4 }}\r\n                    visible={visible}\r\n                    title=\"修改信息\"\r\n                    onOk={handleOk}\r\n                    onCancel={handleCancel}\r\n                    footer={[\r\n                        <Button key=\"back\" onClick={handleCancel}>关闭</Button>\r\n                    ]}\r\n                >\r\n                    {/* 每次通过visible来重新渲染userForm，否则该组件不刷新 */}\r\n                    {visible &&\r\n                        <UserForm\r\n                            onSetVisible={setVisible}\r\n                            reqStd={requestAllStudent}\r\n                            reqTea={requestAllTeacher}\r\n                            user={{ ...currentUser, controlJob: window.localStorage.getItem(\"controlJob\") }}></UserForm>\r\n                    }\r\n                    {/* {record.name} */}\r\n                </Modal>\r\n\r\n            </Spin>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(ControlUser);","import React, { Component } from 'react'\r\nimport \"./index.css\"\r\nimport { LockOutlined } from '@ant-design/icons';\r\nimport { Form, Input, Button, Spin, message } from \"antd\";\r\nimport { resetPassword } from \"../../services/loginSer\";\r\nexport default class StudentForm extends Component {\r\n    componentDidMount() {\r\n        this.setState({\r\n            userObj: this.props.location.state\r\n        })\r\n    }\r\n    state = {\r\n        userObj: {},\r\n        isLoading: false\r\n    }\r\n    onFinish = async (values) => {\r\n        if (values.cPassword !== values.nPassword) {\r\n            message.error(\"前后密码不一致\", 3);\r\n            return null;\r\n        }\r\n        let result = await resetPassword(values.nPassword);\r\n        if(typeof result.data.data !=\"string\"){\r\n            message.success(\"修改成功\", 2);\r\n        }else{\r\n            message.error(result.data.data,2);\r\n        }\r\n    }\r\n    render() {\r\n        const FormConfig = {\r\n            labelCol: {\r\n                span: 2\r\n            },\r\n            wrapperCol: {\r\n                span: 5\r\n            }\r\n        }\r\n        return (\r\n            <Spin tip=\"修改中，请稍后...\" spinning={this.state.isLoading}>\r\n                <Form name=\"loginUser\" {...FormConfig} className=\"resetPwd_form\" onFinish={this.onFinish}>\r\n                    <Form.Item\r\n                        name=\"nPassword\"\r\n                        rules={[{ required: true, message: '请输入新密码!' }]}\r\n                        label=\"新密码\">\r\n                        <Input type=\"password\" prefix={<LockOutlined />} placeholder=\"请输入新密码\" />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"cPassword\"\r\n                        rules={[{ required: true, message: '请输出新密码!' }]}\r\n                        label=\"确认密码\">\r\n                        <Input type=\"password\" prefix={<LockOutlined />} placeholder=\"确认密码\" />\r\n                    </Form.Item>\r\n                    <Form.Item wrapperCol={24} className=\"resetPwd_btn\">\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            重置密码\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Spin>\r\n        )\r\n    }\r\n}\r\n","\r\nimport axios from \"axios\";\r\n\r\nexport async function getAllCourses() {\r\n    return await axios.get(\"/api/course/getAllCourses\").then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\n// 返回学生已选课程\r\nexport async function getChooseCourse() {\r\n    return await axios.get(\"/api/std/showCourse\").then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\n// std端 选课\r\nexport async function chooseCourseFromStd(cid) {\r\n    return await axios.get(`/api/std/chooseCourse?cid=${cid}`).then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\n// std端 退课\r\nexport async function outCourse(cid) {\r\n    return await axios.get(`/api/course/outStudent?cid=${cid}`).then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\n//   拿到已经选择该课程的学生\r\nexport async function showStudent(cid) {\r\n    return await axios.get(`/api/course/showStudent?cid=${cid}`).then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\n// tea \r\nexport async function addCourse(courseObj, tid) {\r\n    console.log(\"addCourse\");\r\n    return await axios.post(`/api/course/addCourse${tid ? `?tid=${tid}` : \"\"}`,\r\n        courseObj\r\n    ).then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\nexport async function delCourse(cid) {\r\n    return await axios.get(`/api/course/delCourse?cid=${cid}`).then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}\r\nexport async function updateCourse(cid, cObj) {\r\n    return await axios.post(`/api/course/updateCourse`,{\r\n        cid : cid,\r\n        ...cObj\r\n    }).then(res => {\r\n        return res;\r\n    }).catch(function (err) {\r\n        console.log(err);\r\n        return err;\r\n    })\r\n}","import React from 'react';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Cascader,\r\n    Select,\r\n    Button,\r\n    InputNumber,\r\n    message\r\n} from 'antd';\r\nimport {  updateCourse } from \"../../services/courseSer\";\r\nconst { Option } = Select;\r\nconst time = [\r\n    {\r\n        value: '08:30:00',\r\n        label: '08:30'\r\n    },\r\n    {\r\n        value: '10:25:00',\r\n        label: '10:25'\r\n    },\r\n    {\r\n        value: '13:50:00',\r\n        label: '13:50'\r\n    },\r\n    {\r\n        value: '15:45:00',\r\n        label: '15:45'\r\n    }\r\n]\r\nconst timeAndWeek = [\r\n    {\r\n        value: '1',\r\n        label: '周一',\r\n        children: time\r\n    },\r\n    {\r\n        value: '2',\r\n        label: '周二',\r\n        children: time\r\n    },\r\n    {\r\n        value: '3',\r\n        label: '周三',\r\n        children: time\r\n    },\r\n    {\r\n        value: '4',\r\n        label: '周四',\r\n        children: time\r\n    },\r\n    {\r\n        value: '5',\r\n        label: '周五',\r\n        children: time\r\n    },\r\n\r\n];\r\nconst formItemLayout = {\r\n    labelCol: {\r\n        xs: {\r\n            span: 8,\r\n        },\r\n        sm: {\r\n            span: 5,\r\n        },\r\n        md: {\r\n            span: 4\r\n        }\r\n    },\r\n    wrapperCol: {\r\n        xs: {\r\n            span: 16,\r\n        },\r\n        sm: {\r\n            span: 14,\r\n        },\r\n        md: {\r\n            span: 6\r\n        }\r\n    },\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {\r\n        xs: {\r\n            span: 24,\r\n            offset: 0,\r\n        },\r\n        sm: {\r\n            span: 16,\r\n            offset: 2,\r\n        },\r\n        md: {\r\n            span: 10,\r\n            offset: 4\r\n        }\r\n    },\r\n};\r\n\r\nconst building = [\r\n    \"文新楼\", \"文清楼\", \"理学楼南楼\", \"理学楼北楼\", \"计算机实验楼\"\r\n]\r\n/**\r\n * \r\n * @param {*} props \r\n * course当前的课程\r\n * onSetVisible关闭modal\r\n * reqCourse请求新的课程\r\n */\r\nconst AddCourse = (props) => {\r\n    // console.log(props);\r\n    // 解析props\r\n    props.course.building = building.filter(item => {\r\n        var a = props.course.place.search(item);\r\n        return a !== -1\r\n    })[0];\r\n    props.course.class = props.course.place.replace(props.course.building, \"\");\r\n    const [form] = Form.useForm();\r\n\r\n    const onFinish = async values => {\r\n        // 去掉undefined\r\n        if (typeof values.capacity != \"number\" || typeof values.score != \"number\") {\r\n            message.error(\"课容量或学分必须为数字！\", 1);\r\n            return;\r\n        }\r\n        values.place = values.building + values.class;\r\n        values.time = values.timeAndWeek[1];\r\n        values.weekDay = values.timeAndWeek[0];\r\n        values.id = props.course.id;\r\n        let result = null;\r\n        result = await updateCourse(values.id, values);\r\n        if (typeof result.data.data != \"string\") {\r\n            message.success(\"添加成功\", 3);\r\n        } else {\r\n            message.error(\"添加失败\", 3);\r\n        }\r\n        props.reqCourse();\r\n        props.onSetVisible(false);\r\n    };\r\n\r\n    const prefixSelector = (\r\n        <Form.Item name=\"building\" noStyle>\r\n            <Select\r\n                style={{\r\n                    width: 110,\r\n                }}\r\n            >\r\n                {building.map(item => {\r\n                    return (\r\n                        <Option value={item}>{item}</Option>\r\n                    )\r\n                })}\r\n            </Select>\r\n        </Form.Item>\r\n    );\r\n    return (\r\n        <Form\r\n            {...formItemLayout}\r\n            form={form}\r\n            name=\"course\"\r\n            onFinish={onFinish}\r\n            initialValues={{\r\n                building: props.course.building,\r\n                capacity: props.course.capacity,\r\n                score: props.course.score,\r\n                class : props.course.class,\r\n                name : props.course.name,\r\n                timeAndWeek : [props.course.weekDay+\"\", props.course.time]\r\n            }}\r\n            scrollToFirstError\r\n        >\r\n            <Form.Item\r\n                name=\"name\"\r\n                label={\r\n                    <span>\r\n                        课程名称&nbsp;\r\n                    </span>\r\n                }\r\n            >\r\n                <Input placeholder={props.course.name} />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"timeAndWeek\"\r\n                label=\"上课时间\"\r\n            >\r\n                <Cascader  options={timeAndWeek} />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"class\"\r\n                label=\"上课地点\"\r\n                wrapperCol={{ span: 10 }}\r\n            >\r\n                <Input\r\n                    addonBefore={prefixSelector}\r\n                    style={{\r\n                        width: '100%',\r\n                    }}\r\n                    placeholder=\"输入教室\"\r\n                />\r\n            </Form.Item>\r\n\r\n\r\n            <Form.Item\r\n                name=\"capacity\"\r\n                label=\"课容量\"\r\n            >\r\n                <InputNumber\r\n                    min={1}\r\n                    max={250}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"score\"\r\n                label=\"学分\"\r\n            >\r\n                <InputNumber\r\n                    min={1}\r\n                    max={5}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item {...tailFormItemLayout}>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                    更新课程\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n};\r\nexport default AddCourse;","import React, { useEffect, useState } from 'react'\r\nimport { getAllCourses, showStudent, delCourse } from \"../../services/courseSer\";\r\nimport { getTeacherById } from \"../../services/teacherSer\";\r\nimport { Table, Tag, Spin, Button, message, Space, Modal } from 'antd';\r\n// import \"./index.css\";\r\nimport CourseForm from '../courseForm';\r\nconst { Column, ColumnGroup } = Table;\r\n// 还需要的api:\r\n// 拿到已经选择该课程的人数  \r\n// 拿到该课程的老师名字     √\r\n// 拿到本学生是否已经选了该课  √\r\n\r\n\r\nexport default function ShowCourse(props) {\r\n    const requestCourse = async () => {\r\n        setIsLoading(true);\r\n        const result = await getAllCourses();\r\n        let courses = typeof result.data.data != \"string\" ? result.data.data : [];\r\n\r\n        courses = courses.map(async (item) => {\r\n            item.key = item.id;\r\n            const res = await getTeacherById(item.TeacherId);\r\n            const count = await showStudent(item.id);\r\n            item.nowCount = typeof count.data.data != \"string\" ? count.data.data.length : 0;\r\n            item.teacherName = typeof res.data.data != \"string\" ? res.data.data.name : \"\";\r\n            return item;\r\n        })\r\n        // });\r\n        Promise.all(courses).then(res => {\r\n            setCourses(res);\r\n            setIsLoading(false);\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        requestCourse();\r\n        return () => {\r\n            // cleanup\r\n            console.log(\"组件销毁\");\r\n        }\r\n    }, [])\r\n    const [courses, setCourses] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [mVisible, setMVisible] = useState(false);\r\n    const [current, setCurrent] = useState({});\r\n\r\n    const handleOk = (values) => {\r\n\r\n    }\r\n    const handleCancel = () => {\r\n        setMVisible(false);\r\n    }\r\n    const updateCourse = async (record) => {\r\n        setMVisible(true);\r\n        setCurrent(record);\r\n    }\r\n    const deleteCourse = async (record) => {\r\n        let flag = window.confirm(\"确定删除吗?\");\r\n        if (!flag) {\r\n            return null;\r\n        }\r\n        let result = await delCourse(record.id);\r\n        console.log(result);\r\n        if (typeof result.data.data != \"string\") {\r\n            message.success('删除成功', 2);\r\n        }\r\n        else {\r\n            message.error('删除出错', 2);\r\n        }\r\n        requestCourse();\r\n    }\r\n    return (\r\n        <Spin spinning={isLoading}>\r\n            <Table className=\"course_table\" dataSource={courses} pagination={false}>\r\n                <Column title=\"课程\" dataIndex=\"name\" key=\"name\" />\r\n                <Column title=\"星期\" dataIndex=\"weekDay\" key=\"weekDay\" />\r\n                <Column title=\"时间\" dataIndex=\"time\" key=\"time\" />\r\n                <Column title=\"上课地点\" dataIndex=\"place\" key=\"address\" />\r\n                <Column title=\"学分\" dataIndex=\"score\" key=\"score\" />\r\n                <Column title=\"课容量\" key=\"capacity\"\r\n                    render={(record) => {\r\n                        return (\r\n                            <Space>{record.nowCount}/{record.capacity}\r\n                                {record.nowCount === record.capacity ? <Tag color=\"red\">已满</Tag> : \"\"}\r\n                            </Space>\r\n                        )\r\n                    }}\r\n                />\r\n                <Column title=\"任课老师\" dataIndex=\"teacherName\" key=\"teacherName\" />\r\n                <ColumnGroup\r\n                    title=\"操作\"\r\n                    key=\"action\"\r\n                >\r\n                    <Column\r\n                        render={(record) => {\r\n                            return (\r\n                                <Button type=\"primary\"\r\n                                    onClick={() => updateCourse(record)}\r\n                                >修改</Button>\r\n                            )\r\n                        }}\r\n                    >\r\n                    </Column>\r\n                    <Column\r\n                        render={(record) => {\r\n                            return (\r\n                                <Button danger type=\"primary\" onClick={() => deleteCourse(record)}\r\n                                >删除</Button>\r\n                            )\r\n                        }}\r\n                    >\r\n                    </Column>\r\n                </ColumnGroup>\r\n            </Table>\r\n            <Modal\r\n                bodyStyle={{ minHeight: 71.4 }}\r\n                visible={mVisible}\r\n                title=\"修改信息\"\r\n                onOk={handleOk}\r\n                onCancel={handleCancel}\r\n                footer={[\r\n                    <Button key=\"back\" onClick={handleCancel}>关闭</Button>\r\n                ]}\r\n            >\r\n                {mVisible &&\r\n                    <CourseForm\r\n                        course={current}\r\n                        onSetVisible={setMVisible}\r\n                        reqCourse={requestCourse}\r\n                    ></CourseForm>\r\n                }\r\n            </Modal>\r\n        </Spin>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\n// import Layout from \"../layout\";\r\nimport { Link, Route, withRouter, Switch } from \"react-router-dom\";\r\nimport { Layout, Menu, Breadcrumb, Button } from 'antd';\r\nimport {\r\n    DesktopOutlined,\r\n    BankOutlined,\r\n    UserOutlined,\r\n    ApartmentOutlined\r\n} from '@ant-design/icons';\r\nimport \"./index.css\"\r\nimport AddUser from \"../../components/addUser\";\r\nimport ControlUser from \"../../components/controlUser\";\r\nimport StudentForm from \"../../components/studentForm\";\r\nimport ShowCourse from '../../components/showCourse';\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nclass Teacher extends Component {\r\n    state = {\r\n        collapsed: false,\r\n        selectedMenu: \"主页\",\r\n        openKeys: [\"sub1\", \"sub2\"],\r\n        selectedKeys: [\"1\"],\r\n        pathname: [\"index\", \"update\", \"controlTeacher\", \"addTeacher\", \"controlStudent\", \"addStudent\", \"showCourse\", \"addCourse\"],\r\n        menuName: [\"主页\", \"修改密码\", \"管理教师\", \"添加教师\", \"管理学生\", \"添加学生\", \"查看课程\", \"添加课程\"]\r\n    };\r\n    onCollapse = collapsed => {\r\n        this.setState({ collapsed });\r\n    };\r\n    clickMenu = (e) => {\r\n        this.setState({\r\n            selectedMenu: e.item.node.innerText,\r\n            selectedKeys: e.keyPath\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        this.pathArray = this.props.location.pathname.split(\"/\");\r\n        this.currentPath = this.pathArray.length === 2 ? this.pathArray[1] : this.pathArray[2];\r\n        this.setState({\r\n            selectedKeys: [this.state.pathname.indexOf(this.currentPath) + 1 + \"\"],\r\n            selectedMenu: this.state.menuName[this.state.pathname.indexOf(this.currentPath)]\r\n        })\r\n    }\r\n\r\n    onOpenChange = (e) => {\r\n        this.setState({\r\n            openKeys: e\r\n        })\r\n    }\r\n\r\n    logout = (e) => {\r\n        // 删掉cookie\r\n        let flag = window.confirm(\"确定退出登录吗?\");\r\n        if (flag) {\r\n            document.cookie = \"token=; expires=0\";\r\n            this.props.history.push(\"/\");\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <Layout style={{ minHeight: '700px', minWidth: '1100px' }}>\r\n                <Sider collapsible collapsed={this.state.collapsed} onCollapse={this.onCollapse}>\r\n                    <div className=\"logo\" ></div>\r\n                    <Header className=\"site-layout-background title_name\" style={{ padding: 0 }}>管理员</Header>\r\n                    <Menu\r\n                        selectedKeys={this.state.selectedKeys}\r\n                        openKeys={this.state.openKeys}\r\n                        onOpenChange={this.onOpenChange}\r\n                        theme=\"dark\"\r\n                        mode=\"inline\">\r\n                        <Menu.Item onClick={this.clickMenu} key=\"1\" icon={<BankOutlined />}>\r\n                            <Link to={{\r\n                                pathname: \"/index\",\r\n                                state: this.props.userObj\r\n                            }}>主页\r\n                            </Link>\r\n                        </Menu.Item>\r\n                        <Menu.Item onClick={this.clickMenu} key=\"2\" icon={<UserOutlined />}>\r\n                            <Link to={{\r\n                                pathname: \"/index/update\",\r\n                                state: this.props.userObj\r\n                            }}>\r\n                                修改密码\r\n                            </Link>\r\n                        </Menu.Item>\r\n\r\n                        <SubMenu key=\"sub1\" icon={<DesktopOutlined />} title=\"用户管理\">\r\n                            <Menu.Item onClick={this.clickMenu} key=\"3\"><Link to={{\r\n                                pathname: \"/index/controlTeacher\",\r\n                                state: \"teacher\"\r\n                            }}>管理教师</Link></Menu.Item>\r\n                            <Menu.Item onClick={this.clickMenu} key=\"4\"><Link to={{\r\n                                pathname: \"/index/addTeacher\",\r\n                                state: \"teacher\"\r\n                            }}>添加教师</Link></Menu.Item>\r\n                            <Menu.Item onClick={this.clickMenu} key=\"5\"><Link to={{\r\n                                pathname: \"/index/controlStudent\",\r\n                                state: \"student\"\r\n                            }}>管理学生</Link></Menu.Item>\r\n                            <Menu.Item onClick={this.clickMenu} key=\"6\"><Link to={{\r\n                                pathname: \"/index/addStudent\",\r\n                                state: \"student\"\r\n                            }}>添加学生</Link></Menu.Item>\r\n                        </SubMenu>\r\n                        <SubMenu key=\"sub2\" icon={<ApartmentOutlined />} title=\"管理课程\">\r\n                            <Menu.Item onClick={this.clickMenu} key=\"7\"><Link to={{\r\n                                pathname: \"/index/showCourse\",\r\n                                state: this.props.userObj\r\n                            }}>查看课程</Link></Menu.Item>\r\n                        </SubMenu>\r\n                    </Menu>\r\n                </Sider>\r\n                <Layout className=\"site-layout\">\r\n                    <Header className=\"site-layout-background\" style={{ padding: 0 }} >\r\n                        <Button onClick={this.logout} className=\"logout_btn\">退出登录</Button>\r\n                    </Header>\r\n                    <Content style={{ margin: '0 16px' }}>\r\n                        <Breadcrumb style={{ margin: '16px 0' }}>\r\n                            {/* 根据路由信息来修改 */}\r\n                            <Breadcrumb.Item>管理员</Breadcrumb.Item>\r\n                            <Breadcrumb.Item>{this.state.selectedMenu}</Breadcrumb.Item>\r\n                        </Breadcrumb>\r\n                        <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 600 }}>\r\n                            <Switch>\r\n                                <Route path=\"/index/update\" component={StudentForm}></Route>\r\n                                <Route path=\"/index/controlTeacher\" component={ControlUser}></Route>\r\n                                <Route path=\"/index/controlStudent\" component={ControlUser}></Route>\r\n                                <Route path=\"/index/addTeacher\" component={AddUser}></Route>\r\n                                <Route path=\"/index/addStudent\" component={AddUser}></Route>\r\n                                <Route path=\"/index/showCourse\" component={ShowCourse}></Route>\r\n                                <div>\r\n                                    欢迎来到广州大学选课系统\r\n                                </div>\r\n                            </Switch>\r\n                        </div>\r\n                    </Content>\r\n                    <Footer style={{ textAlign: 'center' }}>Ant Design ©2018 Created by Ant UED</Footer>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Teacher);","\r\nexport const deepClone = (origin) => {\r\n    var newObj = origin instanceof Array ? [] : {};\r\n    for (var item in origin) {\r\n        var temple = typeof origin[item] == 'object' ? deepClone(origin[item]) : origin[item];\r\n        newObj[item] = temple;\r\n    }\r\n    return newObj;\r\n}","import React, { Component } from 'react'\r\nimport { getAllCourses, getChooseCourse, chooseCourseFromStd, outCourse, showStudent } from \"../../services/courseSer\";\r\nimport { getTeacherById } from \"../../services/teacherSer\";\r\nimport { Table, Tag, Spin, Button, message, Space } from 'antd';\r\nimport \"./index.css\";\r\nimport { deepClone } from \"../../utils\"\r\nconst { Column } = Table;\r\n// 还需要的api:\r\n// 拿到已经选择该课程的人数  \r\n// 拿到该课程的老师名字     √\r\n// 拿到本学生是否已经选了该课  √\r\n\r\n\r\nexport default class Course extends Component {\r\n    async componentDidMount() {\r\n        this.setState({\r\n            isLoading: true\r\n        })\r\n        const result = await getAllCourses();\r\n        // 学生已选课程\r\n        const chooseCourse = await getChooseCourse();\r\n        let courses = typeof result.data.data != \"string\" ? result.data.data : [];\r\n        let chooseCourses = typeof chooseCourse.data.data != \"string\" ? chooseCourse.data.data.map(item => item.id) : [];\r\n        chooseCourses = [...this.state.chooseCourses, ...chooseCourses];\r\n        //修改一下courses的参数\r\n        //1. id => key  √\r\n        //2. TeacherId => TeacherName  √\r\n        //2. capacity => ?/总量  \r\n        this.setState({\r\n            chooseCourses: chooseCourses\r\n        }, () => {\r\n            courses = courses.map(async (item) => {\r\n                item.key = item.id;\r\n                const res = await getTeacherById(item.TeacherId);\r\n\r\n                const count = await showStudent(item.id);\r\n                item.nowCount = typeof count.data.data != \"string\" ? count.data.data.length : 0;\r\n                item.teacherName = typeof res.data.data != \"string\" ? res.data.data.name : \"\";\r\n                item.isChoose = this.state.chooseCourses.indexOf(item.id) === -1 ? false : true\r\n                return item;\r\n                // \r\n            })\r\n        });\r\n        Promise.all(courses).then(res => {\r\n            this.setState({\r\n                courses: res,\r\n                isLoading: false\r\n            })\r\n        })\r\n    }\r\n\r\n    state = {\r\n        courses: [],\r\n        isLoading: false,\r\n        chooseCourses: [],\r\n    }\r\n    // 如果已经选了就退，如果没选就选\r\n    controlChoose = async (e) => {\r\n        if (e.isChoose) {\r\n            // 退课\r\n            const result = await outCourse(e.id);\r\n            if (typeof result.data.data !== \"string\" && result.data.msg === 'success') {\r\n                //退课成功\r\n                this.setState(prev => {\r\n                    let newChoose = prev.chooseCourses.filter(item => {\r\n                        return item !== e.id\r\n                    });\r\n                    let newCourses = deepClone(prev.courses);\r\n                    newCourses = newCourses.map(item => {\r\n                        item.isChoose = newChoose.indexOf(item.id) === -1 ? false : true;\r\n                        if (item.id === e.id) {\r\n                            item.nowCount--;\r\n                            // const count = await showStudent(item.id);\r\n                            // item.nowCount = count.data.data.length;\r\n                        }\r\n                        return item;\r\n                    })\r\n                    return {\r\n                        chooseCourses: newChoose,\r\n                        courses: newCourses\r\n                    }\r\n                })\r\n            } else {\r\n                message.error(\"退课失败\", 2);\r\n            }\r\n        } else if (!e.isChoose) {\r\n            // 选课\r\n            if (e.nowCount === e.capacity) {\r\n                message.error(\"课容量已满，请联系任课老师\", 2);\r\n                return null;\r\n            }\r\n            // 判断学生有无week和time与这个课完全相同的，有则因为冲突无法选择\r\n            for (let i = 0; i < this.state.chooseCourses.length; i++) {\r\n                for (let j = 0; j < this.state.courses.length; j++) {\r\n                    if (this.state.chooseCourses[i] === this.state.courses[j].id) {\r\n                        // 找到已选的课，判断时间有无冲突\r\n                        let tempCourse = this.state.courses[j];\r\n                        if (e.time === tempCourse.time && e.weekDay === tempCourse.weekDay) {\r\n                            message.error(`与${tempCourse.name}课程冲突，选课失败`, 2);\r\n                            return null;\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n            const result = await chooseCourseFromStd(e.id);\r\n            if (typeof result.data.data != \"string\") {\r\n                //选课成功    setState调用了两次  是因为没有深度克隆的原因\r\n                this.setState(prev => {\r\n                    let newChoose = [...prev.chooseCourses, e.id];\r\n                    // 需要深克隆才行\r\n                    let newCourses = deepClone(prev.courses);\r\n                    newCourses = newCourses.map(item => {\r\n                        item.isChoose = newChoose.indexOf(item.id) === -1 ? false : true;\r\n                        if (item.id === e.id) {\r\n                            item.nowCount++;\r\n                        }\r\n                        return item;\r\n                    })\r\n                    return {\r\n                        chooseCourses: newChoose,\r\n                        courses: newCourses\r\n                    }\r\n                })\r\n            } else {\r\n                message.error(\"选课失败\", 2);\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <Spin spinning={this.state.isLoading}>\r\n                <Table className=\"course_table\" dataSource={this.state.courses} pagination={false}>\r\n                    <Column title=\"课程\" dataIndex=\"name\" key=\"name\" />\r\n                    <Column title=\"星期\" dataIndex=\"weekDay\" key=\"weekDay\" />\r\n                    <Column title=\"时间\" dataIndex=\"time\" key=\"time\" />\r\n                    <Column title=\"上课地点\" dataIndex=\"place\" key=\"address\" />\r\n                    <Column title=\"学分\" dataIndex=\"score\" key=\"score\" />\r\n                    <Column title=\"课容量\" key=\"capacity\"\r\n                        render={(record) => {\r\n                            return (\r\n                                <Space>{record.nowCount}/{record.capacity}\r\n                                    {record.nowCount === record.capacity ? <Tag color=\"red\">已满</Tag> : \"\"}\r\n                                </Space>\r\n                            )\r\n                        }}\r\n                    />\r\n                    <Column title=\"任课老师\" dataIndex=\"teacherName\" key=\"teacherName\" />\r\n                    <Column\r\n                        title=\"操作\"\r\n                        key=\"action\"\r\n                        render={(record) => {\r\n                            return (\r\n                                <Button\r\n                                    onClick={() => { this.controlChoose(record) }}\r\n                                    type=\"primary\"\r\n                                    danger={record.isChoose}>\r\n                                    {record.isChoose ? \"退课\" : \"选课\"}\r\n                                </Button>\r\n                            )\r\n                        }}\r\n                    />\r\n                </Table>\r\n            </Spin>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport \"./index.css\";\r\nimport { Table } from 'antd';\r\nimport { getChooseCourse } from \"../../services/courseSer\";\r\nimport {getTeacherCourse} from \"../../services/teacherSer\";\r\nimport { deepClone } from '../../utils';\r\nexport default class courseTable extends Component {\r\n  state = {\r\n    isLoading: false,\r\n    courses: [],\r\n    data: [{\r\n      key: '1',\r\n      time: '08:30~10:05'\r\n    },\r\n    {\r\n      key: '2',\r\n      time: '10:25~12:00'\r\n    },\r\n    {\r\n      key: '3',\r\n      time: '13:50~15:25'\r\n    },\r\n    {\r\n      key: '4',\r\n      time: '15:45:17:20'\r\n    }]\r\n  }\r\n  async componentDidMount() {\r\n    this.setState({\r\n      isLoading: true\r\n    })\r\n    let result = null;\r\n    let courses = [];\r\n    if (this.props.location.state.job === \"teacher\") {\r\n      //teacher端的请求课表\r\n      result = await getTeacherCourse();\r\n      courses = typeof result.data.data !== \"string\" ? result.data.data.rows : [];\r\n    } else if (this.props.location.state.job === \"student\") {\r\n      result = await getChooseCourse();\r\n      courses = typeof result.data.data !== \"string\" ? result.data.data : [];\r\n    }\r\n    this.setState({\r\n      courses: courses\r\n    });\r\n    const timeArray = [\"08:30:00\", \"10:25:00\", \"13:50:00\", \"15:45:00\"];\r\n    for (let i = 0; i < courses.length; i++) {\r\n      for (let j = 0; j < timeArray.length; j++) {\r\n        if (courses[i].time === timeArray[j]) {\r\n          // 可以放进第j+1个data数据中\r\n          // 还需要判断加入到week1还是week5\r\n          this.setState(prev => {\r\n            let newData = deepClone(prev.data);\r\n            newData[j][`week${courses[i].weekDay}`] = `${courses[i].name} (${courses[i].place})`;\r\n          // newData[j][`week${courses[i].weekDay}`] = <div><span>{courses[i].name}</span><Tag>courses[i].place</Tag></div>\r\n            return {\r\n              data: newData,\r\n              isLoading: false\r\n            }\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const columns = [\r\n      {\r\n        title: '时间\\\\星期',\r\n        dataIndex: \"time\",\r\n        render: text => <span>{text}</span>,\r\n      },\r\n      {\r\n        title: '星期一',\r\n        dataIndex: 'week1',\r\n      },\r\n      {\r\n        title: '星期二',\r\n        dataIndex: 'week2',\r\n      },\r\n      {\r\n        title: '星期三',\r\n        dataIndex: 'week3',\r\n      },\r\n      {\r\n        title: '星期四',\r\n        dataIndex: 'week4',\r\n      },\r\n      {\r\n        title: '星期五',\r\n        dataIndex: 'week5',\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <Table\r\n        columns={columns}\r\n        dataSource={this.state.data}\r\n        bordered\r\n        title={() => '课表'}\r\n        loading={this.state.isLoading}\r\n        pagination={false}\r\n      />\r\n    )\r\n  }\r\n}","import React, { Component } from 'react'\r\n// import Layout from \"../layout\";\r\nimport { Link, Route, withRouter, Switch } from \"react-router-dom\";\r\nimport { Layout, Menu, Breadcrumb, Button } from 'antd';\r\nimport {\r\n    DesktopOutlined,\r\n    BankOutlined,\r\n    UserOutlined,\r\n} from '@ant-design/icons';\r\nimport \"./index.css\"\r\nimport StudentForm from \"../../components/studentForm\";\r\nimport ChooseCourse from \"../../components/chooseCourse\";\r\nimport CourseTable from '../../components/courseTable';\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nclass Student extends Component {\r\n    state = {\r\n        collapsed: false,\r\n        selectedMenu: \"主页\",\r\n        openKeys: [\"sub1\"],\r\n        selectedKeys: [\"1\"],\r\n        pathname: [\"index\", \"update\", \"choose\", \"showcourse\"],\r\n        menuName: [\"主页\", \"修改密码\", \"选课\", \"查看课表\"]\r\n    };\r\n    onCollapse = collapsed => {\r\n        this.setState({ collapsed });\r\n    };\r\n    clickMenu = (e) => {\r\n        this.setState({\r\n            selectedMenu: e.item.node.innerText,\r\n            selectedKeys: e.keyPath\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        this.pathArray = this.props.location.pathname.split(\"/\");\r\n        this.currentPath = this.pathArray.length === 2 ? this.pathArray[1] : this.pathArray[2];\r\n        this.setState({\r\n            selectedKeys: [this.state.pathname.indexOf(this.currentPath) + 1 + \"\"],\r\n            selectedMenu: this.state.menuName[this.state.pathname.indexOf(this.currentPath)]\r\n        })\r\n    }\r\n\r\n    onOpenChange = (e) => {\r\n        this.setState({\r\n            openKeys: e\r\n        })\r\n    }\r\n\r\n    logout = (e) => {\r\n        // 删掉cookie\r\n        let flag = window.confirm(\"确定退出登录吗?\");\r\n        if (flag) {\r\n            document.cookie = \"token=; expires=0\";\r\n            this.props.history.push(\"/\");\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <Layout style={{ minHeight: '700px', minWidth: '1100px' }}>\r\n                <Sider collapsible collapsed={this.state.collapsed} onCollapse={this.onCollapse}>\r\n                    <div className=\"logo\" />\r\n                    <Header className=\"site-layout-background title_name\" style={{ padding: 0 }}>学生端</Header>\r\n                    <Menu\r\n                        selectedKeys={this.state.selectedKeys}\r\n                        openKeys={this.state.openKeys}\r\n                        onOpenChange={this.onOpenChange}\r\n                        theme=\"dark\"\r\n                        mode=\"inline\">\r\n                        <Menu.Item onClick={this.clickMenu} key=\"1\" icon={<BankOutlined />}>\r\n                            <Link to={{\r\n                                pathname: \"/index\",\r\n                                state: this.props.userObj\r\n                            }}>主页\r\n                            </Link>\r\n                        </Menu.Item>\r\n                        <Menu.Item onClick={this.clickMenu} key=\"2\" icon={<UserOutlined />}>\r\n                            <Link to={{\r\n                                pathname: \"/index/update\",\r\n                                state: this.props.userObj\r\n                            }}>\r\n                                修改密码\r\n                            </Link>\r\n                        </Menu.Item>\r\n\r\n                        <SubMenu key=\"sub1\" icon={<DesktopOutlined />} title=\"课程\">\r\n                            <Menu.Item onClick={this.clickMenu} key=\"3\"><Link to={{\r\n                                pathname: \"/index/choose\",\r\n                                state: this.props.userObj\r\n                            }}>选课</Link></Menu.Item>\r\n                            <Menu.Item onClick={this.clickMenu} key=\"4\"><Link to={{\r\n                                pathname: \"/index/showcourse\",\r\n                                state: this.props.userObj\r\n                            }}>查看课表</Link></Menu.Item>\r\n                        </SubMenu>\r\n                    </Menu>\r\n                </Sider>\r\n                <Layout className=\"site-layout\">\r\n                    <Header className=\"site-layout-background\" style={{ padding: 0 }} >\r\n                        <Button onClick={this.logout} className=\"logout_btn\">退出登录</Button>\r\n                    </Header>\r\n                    <Content style={{ margin: '0 16px' }}>\r\n                        <Breadcrumb style={{ margin: '16px 0' }}>\r\n                            {/* 根据路由信息来修改 */}\r\n                            <Breadcrumb.Item>{this.props.userObj.name}</Breadcrumb.Item>\r\n                            <Breadcrumb.Item>{this.state.selectedMenu}</Breadcrumb.Item>\r\n                        </Breadcrumb>\r\n                        <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 600 }}>\r\n                            <Switch>\r\n                                <Route path=\"/index/update\" component={StudentForm}></Route>\r\n                                <Route path=\"/index/choose\" component={ChooseCourse}></Route>\r\n                                <Route path=\"/index/showcourse\" component={CourseTable}></Route>\r\n                                <div>\r\n                                    欢迎来到广州大学选课系统\r\n                                </div>\r\n                            </Switch>\r\n                        </div>\r\n                    </Content>\r\n                    <Footer style={{ textAlign: 'center' }}>Ant Design ©2018 Created by Ant UED</Footer>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Student);","import { getTeacherCourse } from \"../../services/teacherSer\";\r\nimport { showStudent, delCourse } from \"../../services/courseSer\";\r\nimport { outStd } from \"../../services/stdSer\";\r\nimport React, { useState, useEffect } from 'react'\r\nimport { Table, Spin, Button, message, Space, Tag, Modal } from 'antd';\r\nimport \"./index.css\";\r\nconst { Column, ColumnGroup } = Table;\r\n\r\nfunction TeaCourse() {\r\n    //当前老师的课程\r\n    const [courses, setCourses] = useState(0);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [mLoading, setMLoading] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    // 选了某课程的学生们\r\n    const [studentsInACourse, setStudentsInACourse] = useState({ chooseStd: [], courseId: 0 });\r\n    // 老师退掉的学生们\r\n    const [outStdInACourse, setOutStdInACourse] = useState({ courseId: 0, outStd: [] });\r\n    // const [ChooseStudent, setChooseStudent] = useState([]);\r\n    //请求课程信息\r\n    async function requestData() {\r\n        setIsLoading(true);\r\n        let result = await getTeacherCourse();\r\n        if (typeof result.data.data != \"string\") {\r\n            result.data.data.rows = result.data.data.rows.map(async item => {\r\n                // console.log(item);\r\n                let chooseStd = await showStudent(item.id);\r\n                item.chooseStd = chooseStd.data.data;\r\n                // return chooseStd.data.data;\r\n                return item;\r\n            })\r\n            Promise.all(result.data.data.rows).then(res => {\r\n                setCourses(res);\r\n                setIsLoading(false);\r\n            })\r\n        }\r\n    }\r\n    const deleteCourse = async (record) => {\r\n        let flag = window.confirm(\"确认删除该课程吗？\");\r\n        if (!flag) {\r\n            return;\r\n        }\r\n        let result = \"\";\r\n        result = await delCourse(record.id);\r\n        if (typeof result.data.data != \"string\") {\r\n            message.success(\"删除成功\", 2);\r\n        } else if (typeof result.data.data == \"string\") {\r\n            message.error(result.data.data, 3);\r\n        }\r\n        // 刷新一下课程信息\r\n        requestData()\r\n    }\r\n    function detail(record) {\r\n        let stdAndCourse = {\r\n            courseId: record.id,\r\n            chooseStd: record.chooseStd\r\n        }\r\n        setStudentsInACourse(stdAndCourse);\r\n        setVisible(true);\r\n    }\r\n    function handleOk() {\r\n        setMLoading(true);\r\n        // 没有选到人\r\n        if (outStdInACourse.outStd.length === 0) {\r\n            handleCancel();\r\n            setMLoading(false);\r\n            return;\r\n        }\r\n        // 对outStd里的所有学生进行删除\r\n        let flag = window.confirm(\"确定删除这些学生吗?\");\r\n        if (!flag) {\r\n            return;\r\n        }\r\n        let result = \"\";\r\n        result = outStdInACourse.outStd.map(async std => {\r\n            return await outStd(outStdInACourse.courseId, std);\r\n        })\r\n        Promise.all(result).then(res => {\r\n            if (typeof res[0].data.data !=\"string\") {\r\n                message.success(\"删除成功\", 2);\r\n            } else {\r\n                message.error(\"操作失败\", 2);\r\n            }\r\n            setMLoading(false);\r\n            setVisible(false);\r\n        })\r\n        // 刷新外面学生人数\r\n        requestData();\r\n    }\r\n    function handleCancel() {\r\n        //把选择到的学生取消掉\r\n        let outStd = [];\r\n        setOutStdInACourse({ courseId: studentsInACourse.courseId, outStd: outStd });\r\n        // 重置当前的course和该course的学生\r\n        let stdAndCourse = {\r\n            courseId: 0,\r\n            chooseStd: []\r\n        }\r\n        setStudentsInACourse(stdAndCourse);\r\n        setVisible(false);\r\n    }\r\n    async function outStudent(std) {\r\n        // 每点击一个，就放进outStd这个状态里\r\n        let outStd = [];\r\n        outStd.push(std.id);\r\n        let newObj = {\r\n            courseId: studentsInACourse.courseId,\r\n            outStd: outStd\r\n        };\r\n        setOutStdInACourse(newObj);\r\n    }\r\n    useEffect(() => {\r\n        requestData();\r\n    }, [])\r\n    return (\r\n        <Spin spinning={isLoading}>\r\n            <Table className=\"course_table\" dataSource={courses} pagination={false}>\r\n                <Column title=\"课程\" dataIndex=\"name\" key=\"name\" />\r\n                <Column title=\"星期\" dataIndex=\"weekDay\" key=\"weekDay\" />\r\n                <Column title=\"时间\" dataIndex=\"time\" key=\"time\" />\r\n                <Column title=\"上课地点\" dataIndex=\"place\" key=\"address\" />\r\n                <Column title=\"学分\" dataIndex=\"score\" key=\"score\" />\r\n                <Column title=\"课容量\" key=\"capacity\"\r\n                    render={(record) => {\r\n                        return (\r\n                            <Space>\r\n                                {record.chooseStd.length}/{record.capacity}\r\n                                {record.chooseStd.length === record.capacity ? <Tag color=\"red\">已满</Tag> : \"\"}\r\n                            </Space>\r\n                        )\r\n                    }}\r\n                />\r\n                <ColumnGroup title=\"操作\">\r\n                    <Column\r\n                        className=\"action_btn\"\r\n                        key=\"detail\"\r\n                        render={(record) => {\r\n                            return (\r\n                                <>\r\n                                    <Button\r\n                                        onClick={() => {\r\n                                            detail(record)\r\n                                        }}\r\n                                        type=\"primary\"\r\n                                    >详细\r\n                                </Button>\r\n                                    <Modal\r\n                                        bodyStyle={{ minHeight: 71.4 }}\r\n                                        visible={visible}\r\n                                        title=\"已选学生\"\r\n                                        onOk={handleOk}\r\n                                        onCancel={handleCancel}\r\n\r\n                                        footer={[\r\n                                            <Button key=\"back\" onClick={handleCancel}>取消</Button>,\r\n                                            <Button key=\"submit\" type=\"primary\" loading={mLoading} onClick={handleOk}>提交\r\n                                            </Button>,\r\n                                        ]}\r\n                                    >\r\n                                        {studentsInACourse.chooseStd.map(std => {\r\n                                            console.log(std);\r\n                                            return (\r\n                                                <Tag color=\"red\" closable onClose={() => outStudent(std)}>\r\n                                                    {std.name}\r\n                                                </Tag>\r\n                                            )\r\n                                        })}\r\n                                    </Modal>\r\n                                </>\r\n                            )\r\n                        }}\r\n                    />\r\n                    <Column\r\n                        className=\"action_btn\"\r\n                        key=\"delete\"\r\n                        render={(record) => {\r\n                            return (\r\n                                <Button\r\n                                    onClick={() => {\r\n                                        deleteCourse(record)\r\n                                    }}\r\n                                    type=\"primary\"\r\n                                    danger\r\n                                >删除\r\n                                </Button>\r\n\r\n                            )\r\n                        }}\r\n                    />\r\n                </ColumnGroup>\r\n\r\n            </Table>\r\n        </Spin>\r\n    )\r\n}\r\n\r\nexport default TeaCourse","import React from 'react';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Cascader,\r\n    Select,\r\n    Button,\r\n    InputNumber,\r\n    message\r\n} from 'antd';\r\nimport { addCourse } from \"../../services/courseSer\";\r\nconst { Option } = Select;\r\nconst time = [\r\n    {\r\n        value: '08:30:00',\r\n        label: '08:30'\r\n    },\r\n    {\r\n        value: '10:25:00',\r\n        label: '10:25'\r\n    },\r\n    {\r\n        value: '13:50:00',\r\n        label: '13:50'\r\n    },\r\n    {\r\n        value: '15:45:00',\r\n        label: '15:45'\r\n    }\r\n]\r\nconst timeAndWeek = [\r\n    {\r\n        value: '1',\r\n        label: '周一',\r\n        children: time\r\n    },\r\n    {\r\n        value: '2',\r\n        label: '周二',\r\n        children: time\r\n    },\r\n    {\r\n        value: '3',\r\n        label: '周三',\r\n        children: time\r\n    },\r\n    {\r\n        value: '4',\r\n        label: '周四',\r\n        children: time\r\n    },\r\n    {\r\n        value: '5',\r\n        label: '周五',\r\n        children: time\r\n    },\r\n\r\n];\r\nconst formItemLayout = {\r\n    labelCol: {\r\n        xs: {\r\n            span: 8,\r\n        },\r\n        sm: {\r\n            span: 5,\r\n        },\r\n        md: {\r\n            span: 4\r\n        }\r\n    },\r\n    wrapperCol: {\r\n        xs: {\r\n            span: 16,\r\n        },\r\n        sm: {\r\n            span: 14,\r\n        },\r\n        md: {\r\n            span: 6\r\n        }\r\n    },\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {\r\n        xs: {\r\n            span: 24,\r\n            offset: 0,\r\n        },\r\n        sm: {\r\n            span: 16,\r\n            offset: 2,\r\n        },\r\n        md: {\r\n            span: 10,\r\n            offset: 5\r\n        }\r\n    },\r\n};\r\n\r\nconst building = [\r\n    \"文新楼\", \"文清楼\", \"理学楼南楼\", \"理学楼北楼\", \"计算机实验楼\"\r\n]\r\nconst AddCourse = () => {\r\n    const [form] = Form.useForm();\r\n\r\n    const onFinish = async values => {\r\n        values.capacity = +values.capacity;\r\n        values.score = +values.score;\r\n        if (typeof values.capacity != \"number\" || typeof values.score != \"number\") {\r\n            message.error(\"课容量或学分必须为数字！\", 1);\r\n            return;\r\n        }\r\n        values.place = values.building + values.class;\r\n        values.time = values.timeAndWeek[1];\r\n        values.weekDay = values.timeAndWeek[0];\r\n        let result = null;\r\n        try {\r\n            result = await addCourse(values);\r\n            console.log(result);\r\n            if (result && typeof result.data.data != \"string\") {\r\n                message.success(\"添加成功\", 3);\r\n            } else {\r\n                message.error(result.data.data, 3);\r\n            }\r\n        } catch (err) {\r\n            message.error(err);\r\n        }\r\n    };\r\n\r\n    const prefixSelector = (\r\n        <Form.Item name=\"building\" noStyle>\r\n            <Select\r\n                style={{\r\n                    width: 110,\r\n                }}\r\n            >\r\n                {building.map(item => {\r\n                    return (\r\n                        <Option value={item}>{item}</Option>\r\n                    )\r\n                })}\r\n            </Select>\r\n        </Form.Item>\r\n    );\r\n    return (\r\n        <Form\r\n            {...formItemLayout}\r\n            form={form}\r\n            name=\"course\"\r\n            onFinish={onFinish}\r\n            initialValues={{\r\n                building: '文新',\r\n                capacity: 60,\r\n                score: 2\r\n            }}\r\n            scrollToFirstError\r\n        >\r\n            <Form.Item\r\n                name=\"name\"\r\n                label={\r\n                    <span>\r\n                        课程名称&nbsp;\r\n                    </span>\r\n                }\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '请输入课程名称'\r\n                    },\r\n                ]}\r\n            >\r\n                <Input />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"timeAndWeek\"\r\n                label=\"上课时间\"\r\n                rules={[\r\n                    {\r\n                        type: 'array',\r\n                        required: true,\r\n                        message: '必须选择上课时间',\r\n                    },\r\n                ]}\r\n            >\r\n                <Cascader placeholder=\"请选择上课时间\" options={timeAndWeek} />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"class\"\r\n                label=\"上课地点\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '必须填写上课地点!',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input\r\n                    addonBefore={prefixSelector}\r\n                    style={{\r\n                        width: '100%',\r\n                    }}\r\n                    placeholder=\"输入教室\"\r\n                />\r\n            </Form.Item>\r\n\r\n\r\n            <Form.Item\r\n                name=\"capacity\"\r\n                label=\"课容量\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '必须填写课容量!',\r\n                    },\r\n                ]}\r\n            >\r\n                <InputNumber\r\n                    min={1}\r\n                    max={250}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"score\"\r\n                label=\"学分\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '必须填写学分!',\r\n                    },\r\n                ]}\r\n            >\r\n                <InputNumber\r\n                    min={1}\r\n                    max={5}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item {...tailFormItemLayout}>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                    添加课程\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n};\r\nexport default AddCourse;","import React, { Component } from 'react'\r\n// import Layout from \"../layout\";\r\nimport { Link, Route, withRouter, Switch } from \"react-router-dom\";\r\nimport { Layout, Menu, Breadcrumb, Button } from 'antd';\r\nimport {\r\n    DesktopOutlined,\r\n    BankOutlined,\r\n    UserOutlined,\r\n} from '@ant-design/icons';\r\nimport \"./index.css\"\r\nimport StudentForm from \"../../components/studentForm\";\r\n// import ChooseCourse from \"../../components/chooseCourse\";\r\nimport TeaCourse from \"../../components/teaCourse\";\r\nimport CourseTable from '../../components/courseTable';\r\nimport AddCourse from \"../../components/addCourse\";\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nclass Teacher extends Component {\r\n    state = {\r\n        collapsed: false,\r\n        selectedMenu: \"主页\",\r\n        openKeys: [\"sub1\"],\r\n        selectedKeys: [\"1\"],\r\n        pathname: [\"index\", \"update\", \"mycourse\", \"showcourse\",\"addcourse\"],\r\n        menuName: [\"主页\", \"修改密码\", \"管理课程\", \"查看课表\", \"添加课程\"]\r\n    };\r\n    onCollapse = collapsed => {\r\n        this.setState({ collapsed });\r\n    };\r\n    clickMenu = (e) => {\r\n        this.setState({\r\n            selectedMenu: e.item.node.innerText,\r\n            selectedKeys: e.keyPath\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        this.pathArray = this.props.location.pathname.split(\"/\");\r\n        this.currentPath = this.pathArray.length === 2 ? this.pathArray[1] : this.pathArray[2];\r\n        this.setState({\r\n            selectedKeys: [this.state.pathname.indexOf(this.currentPath) + 1 + \"\"],\r\n            selectedMenu: this.state.menuName[this.state.pathname.indexOf(this.currentPath)]\r\n        })\r\n    }\r\n\r\n    onOpenChange = (e) => {\r\n        this.setState({\r\n            openKeys: e\r\n        })\r\n    }\r\n    \r\n    logout = (e) => {\r\n        // 删掉cookie\r\n        let flag = window.confirm(\"确定退出登录吗?\");\r\n        if (flag) {\r\n            document.cookie = \"token=; expires=0\";\r\n            this.props.history.push(\"/\");\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <Layout style={{ minHeight: '700px', minWidth: '1100px' }}>\r\n                <Sider collapsible collapsed={this.state.collapsed} onCollapse={this.onCollapse}>\r\n                    <div className=\"logo\" />\r\n                    <Header className=\"site-layout-background title_name\" style={{ padding: 0 }}>教师端</Header>\r\n                    <Menu\r\n                        selectedKeys={this.state.selectedKeys}\r\n                        openKeys={this.state.openKeys}\r\n                        onOpenChange={this.onOpenChange}\r\n                        theme=\"dark\"\r\n                        mode=\"inline\">\r\n                        <Menu.Item onClick={this.clickMenu} key=\"1\" icon={<BankOutlined />}>\r\n                            <Link to={{\r\n                                pathname: \"/index\",\r\n                                state: this.props.userObj\r\n                            }}>主页\r\n                            </Link>\r\n                        </Menu.Item>\r\n                        <Menu.Item onClick={this.clickMenu} key=\"2\" icon={<UserOutlined />}>\r\n                            <Link to={{\r\n                                pathname: \"/index/update\",\r\n                                state: this.props.userObj\r\n                            }}>\r\n                                修改密码\r\n                            </Link>\r\n                        </Menu.Item>\r\n\r\n                        <SubMenu key=\"sub1\" icon={<DesktopOutlined />} title=\"课程\">\r\n                            <Menu.Item onClick={this.clickMenu} key=\"3\"><Link to={{\r\n                                pathname: \"/index/mycourse\",\r\n                                state: this.props.userObj\r\n                            }}>管理课程</Link></Menu.Item>\r\n                            <Menu.Item onClick={this.clickMenu} key=\"4\"><Link to={{\r\n                                pathname: \"/index/showcourse\",\r\n                                state: this.props.userObj\r\n                            }}>我的课表</Link></Menu.Item>\r\n                            <Menu.Item onClick={this.clickMenu} key=\"5\"><Link to={{\r\n                                pathname: \"/index/addcourse\",\r\n                                state: this.props.userObj\r\n                            }}>添加课程</Link></Menu.Item>\r\n                        </SubMenu>\r\n                    </Menu>\r\n                </Sider>\r\n                <Layout className=\"site-layout\">\r\n                    <Header className=\"site-layout-background\" style={{ padding: 0 }} >\r\n                        <Button onClick={this.logout} className=\"logout_btn\">退出登录</Button>\r\n                    </Header>\r\n                    <Content style={{ margin: '0 16px' }}>\r\n                        <Breadcrumb style={{ margin: '16px 0' }}>\r\n                            {/* 根据路由信息来修改 */}\r\n                            <Breadcrumb.Item>{this.props.userObj.name}</Breadcrumb.Item>\r\n                            <Breadcrumb.Item>{this.state.selectedMenu}</Breadcrumb.Item>\r\n                        </Breadcrumb>\r\n                        <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 600 }}>\r\n                            <Switch>\r\n                                <Route path=\"/index/update\" component={StudentForm}></Route>\r\n                                <Route path=\"/index/mycourse\" component={TeaCourse}></Route>\r\n                                <Route path=\"/index/showcourse\" component={CourseTable}></Route>\r\n                                <Route path=\"/index/addcourse\" component={AddCourse}></Route>\r\n                                <div>\r\n                                    欢迎来到广州大学选课系统\r\n                                </div>\r\n                            </Switch>\r\n                        </div>\r\n                    </Content>\r\n                    <Footer style={{ textAlign: 'center' }}>Ant Design ©2018 Created by Ant UED</Footer>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Teacher);","import React, { Component } from 'react'\r\nimport Admin from \"../adm\";\r\nimport Student from \"../std\";\r\nimport Teacher from \"../tea\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport { getDetailById } from \"../../services/loginSer\";\r\nclass index extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.props = props;\r\n        this.cookie = document.cookie.split(\"=\")[1];\r\n        // this.userObj = props.history.location.state;\r\n        //根据cookie来获得用户信息\r\n\r\n    }\r\n    componentDidMount() {\r\n        if (!this.cookie) {\r\n            alert(\"暂无权限！\");\r\n            this.props.history.push('/');\r\n        }\r\n        if (this.cookie) {\r\n            //发送请求拿到已登录的用户信息\r\n            getDetailById().then(res => {\r\n                this.setState({\r\n                    user: res.data.data\r\n                })\r\n            });\r\n        }\r\n    }\r\n\r\n    state = {\r\n        user: {}\r\n    }\r\n    render() {\r\n        if (this.state.user && this.state.user.job === \"admin\") {\r\n            return (\r\n                <div class=\"wrapper\"><Admin userObj={this.state.user}></Admin></div>\r\n            )\r\n        } else if (this.state.user && this.state.user.job === \"teacher\") {\r\n            return (\r\n                <div class=\"wrapper\"><Teacher userObj={this.state.user}></Teacher></div>\r\n            )\r\n        } else if (this.state.user && this.state.user.job === \"student\") {\r\n            return (\r\n                <div class=\"wrapper\"><Student userObj={this.state.user}></Student></div>\r\n            )\r\n        } else {\r\n            return (\r\n                <h1>暂无权限</h1>\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\nexport default withRouter(index);","import React from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Login from \"./routes/login\";\nimport Index from \"./routes/index\";\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/\" exact={true} component={Login}></Route>\n        <Route path=\"/index\" component={Index}></Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}